"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./components/pages/ChatPage.tsx":
/*!***************************************!*\
  !*** ./components/pages/ChatPage.tsx ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ ChatPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./lib/supabase.ts\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trash-2.js\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/paperclip.js\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/image.js\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/smile.js\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Circle,ImageIcon,Paperclip,Send,Smile,Trash2!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _barrel_optimize_names_formatDistanceToNow_date_fns__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=formatDistanceToNow!=!date-fns */ \"(app-pages-browser)/./node_modules/date-fns/esm/formatDistanceToNow/index.js\");\n/* harmony import */ var date_fns_locale__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! date-fns/locale */ \"(app-pages-browser)/./node_modules/date-fns/esm/locale/pt-BR/index.js\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-hot-toast */ \"(app-pages-browser)/./node_modules/react-hot-toast/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction ChatPage(param) {\n    let { user, profile, onViewProfile } = param;\n    _s();\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [participants, setParticipants] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [newMessage, setNewMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sending, setSending] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showMentionSuggestions, setShowMentionSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [mentionSearch, setMentionSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [mentionStartPos, setMentionStartPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [showEmojiPicker, setShowEmojiPicker] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [uploadingFile, setUploadingFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [selectedImage, setSelectedImage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [selectedFile, setSelectedFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [showHashtagSuggestions, setShowHashtagSuggestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [hashtagSearch, setHashtagSearch] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [hashtagStartPos, setHashtagStartPos] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [availableTags, setAvailableTags] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [displayMembersCount, setDisplayMembersCount] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const messageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const fileInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const imageInputRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        console.log(\"ChatPage useEffect - User:\", user);\n        if (user) {\n            console.log(\"User authenticated, loading chat data...\");\n            getMessages();\n            getParticipants();\n            updateUserOnlineStatus(true);\n            loadAvailableTags();\n            // Subscribe to new messages\n            const messagesSubscription = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.channel(\"chat_messages\").on(\"postgres_changes\", {\n                event: \"INSERT\",\n                schema: \"public\",\n                table: \"chat_messages\"\n            }, async (payload)=>{\n                const newMessage = payload.new;\n                // Buscar dados completos da mensagem incluindo perfil do usuário\n                const { data: fullMessage } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_messages\").select(\"\\n                *,\\n                profiles!fk_chat_messages_user_id(\\n                  id,\\n                  full_name,\\n                  username,\\n                  avatar_url\\n                )\\n              \").eq(\"id\", newMessage.id).single();\n                if (fullMessage) {\n                    const transformedMessage = {\n                        ...fullMessage,\n                        user: fullMessage.profiles\n                    };\n                    setMessages((prev)=>[\n                            ...prev,\n                            transformedMessage\n                        ]);\n                } else {\n                    setMessages((prev)=>[\n                            ...prev,\n                            newMessage\n                        ]);\n                }\n                // Scroll suave apenas para novas mensagens em tempo real\n                setTimeout(()=>scrollToBottom(true), 100);\n            }).subscribe();\n            // Subscribe to participant changes\n            const participantsSubscription = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.channel(\"chat_participants\").on(\"postgres_changes\", {\n                event: \"*\",\n                schema: \"public\",\n                table: \"chat_participants\"\n            }, ()=>{\n                getParticipants();\n            }).subscribe();\n            return ()=>{\n                messagesSubscription.unsubscribe();\n                participantsSubscription.unsubscribe();\n                updateUserOnlineStatus(false);\n            };\n        }\n    }, [\n        user\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Scroll instantâneo no carregamento inicial, suave para novas mensagens\n        if (messages.length > 0) {\n            scrollToBottom(false) // Sempre instantâneo\n            ;\n        }\n    }, [\n        messages\n    ]);\n    const scrollToBottom = function() {\n        let smooth = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: smooth ? \"smooth\" : \"instant\"\n        });\n    };\n    async function getMessages() {\n        console.log(\"Fetching messages for user:\", user === null || user === void 0 ? void 0 : user.id);\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_messages\").select(\"\\n        *,\\n        profiles!fk_chat_messages_user_id(\\n          id,\\n          full_name,\\n          username,\\n          avatar_url\\n        )\\n      \").order(\"created_at\", {\n            ascending: true\n        }).limit(1000) // Aumentado para 1000 mensagens\n        ;\n        console.log(\"Messages query result:\", {\n            data,\n            error\n        });\n        if (error) {\n            console.error(\"Error fetching messages:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao carregar mensagens: \" + error.message);\n        } else if (data) {\n            // Transformar os dados para o formato esperado\n            const transformedData = data.map((message)=>({\n                    ...message,\n                    user: message.profiles\n                }));\n            console.log(\"Messages loaded:\", transformedData.length, transformedData);\n            setMessages(transformedData);\n        }\n        setLoading(false);\n    }\n    async function getParticipants() {\n        console.log(\"Fetching all community members...\");\n        // Buscar todos os usuários da comunidade\n        const { data: allUsers, error: usersError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"\\n        id,\\n        full_name,\\n        username,\\n        avatar_url,\\n        created_at\\n      \").order(\"full_name\", {\n            ascending: true\n        }).limit(500) // Garantir que pegue todos os usuários\n        ;\n        if (usersError) {\n            console.error(\"Error fetching users:\", usersError);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao carregar usu\\xe1rios: \" + usersError.message);\n            return;\n        }\n        // Buscar status online dos usuários que já participaram do chat\n        const { data: chatParticipants, error: participantsError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_participants\").select(\"user_id, is_online, last_seen\");\n        console.log(\"Users query result:\", {\n            allUsers,\n            chatParticipants\n        });\n        if (allUsers) {\n            // Combinar dados dos usuários com status do chat\n            const transformedData = allUsers.map((user)=>{\n                const chatData = chatParticipants === null || chatParticipants === void 0 ? void 0 : chatParticipants.find((p)=>p.user_id === user.id);\n                return {\n                    id: user.id,\n                    user_id: user.id,\n                    user: user,\n                    is_online: (chatData === null || chatData === void 0 ? void 0 : chatData.is_online) || false,\n                    last_seen: (chatData === null || chatData === void 0 ? void 0 : chatData.last_seen) || user.created_at\n                };\n            });\n            console.log(\"All community members loaded:\", transformedData.length, transformedData);\n            setParticipants(transformedData);\n            // Calcular número a exibir (fake ou real)\n            await calculateDisplayCount(transformedData.length);\n        }\n    }\n    async function calculateDisplayCount(realCount) {\n        try {\n            // Buscar configurações\n            const { data: settings } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"community_settings\").select(\"fake_members_count, show_fake_count\").single();\n            // Verificar se usuário é admin\n            let isAdmin = false;\n            if (user) {\n                const { data: userProfile } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"role\").eq(\"id\", user.id).single();\n                isAdmin = (userProfile === null || userProfile === void 0 ? void 0 : userProfile.role) === \"admin\";\n            }\n            // Se não é admin e fake está ativo, mostra número fake\n            if (!isAdmin && (settings === null || settings === void 0 ? void 0 : settings.show_fake_count)) {\n                setDisplayMembersCount(settings.fake_members_count || realCount);\n            } else {\n                setDisplayMembersCount(realCount);\n            }\n        } catch (error) {\n            console.error(\"Error calculating display count:\", error);\n            setDisplayMembersCount(realCount);\n        }\n    }\n    async function loadAvailableTags() {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_auto_tags\").select(\"*\").eq(\"is_active\", true);\n        if (error) {\n            console.error(\"Error loading tags:\", error);\n        } else {\n            setAvailableTags(data || []);\n            console.log(\"Available tags loaded:\", data);\n        }\n    }\n    async function updateUserOnlineStatus(isOnline) {\n        if (!user) return;\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_participants\").upsert({\n            user_id: user.id,\n            is_online: isOnline,\n            last_seen: new Date().toISOString()\n        });\n        if (error) {\n            console.error(\"Error updating online status:\", error);\n        }\n    }\n    const emojis = [\n        \"\\uD83D\\uDE00\",\n        \"\\uD83D\\uDE02\",\n        \"\\uD83D\\uDE0D\",\n        \"\\uD83E\\uDD70\",\n        \"\\uD83D\\uDE0E\",\n        \"\\uD83E\\uDD14\",\n        \"\\uD83D\\uDE22\",\n        \"\\uD83D\\uDE2D\",\n        \"\\uD83D\\uDE21\",\n        \"\\uD83E\\uDD2F\",\n        \"\\uD83D\\uDC4D\",\n        \"\\uD83D\\uDC4E\",\n        \"\\uD83D\\uDC4F\",\n        \"\\uD83D\\uDE4F\",\n        \"\\uD83D\\uDCAA\",\n        \"\\uD83C\\uDF89\",\n        \"\\uD83D\\uDD25\",\n        \"❤️\",\n        \"\\uD83D\\uDCAF\",\n        \"✅\"\n    ];\n    const handleEmojiSelect = (emoji)=>{\n        var _messageInputRef_current;\n        setNewMessage((prev)=>prev + emoji);\n        setShowEmojiPicker(false);\n        (_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.focus();\n    };\n    const deleteMessage = async (messageId)=>{\n        if (!confirm(\"Tem certeza que deseja deletar esta mensagem?\")) return;\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_messages\").delete().eq(\"id\", messageId);\n        if (error) {\n            console.error(\"Error deleting message:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao deletar mensagem\");\n        } else {\n            // Remover mensagem localmente\n            setMessages((prev)=>prev.filter((m)=>m.id !== messageId));\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].success(\"Mensagem deletada\");\n        }\n    };\n    const handleImageUpload = async (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        if (!file.type.startsWith(\"image/\")) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Por favor, selecione uma imagem\");\n            return;\n        }\n        if (file.size > 5 * 1024 * 1024) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Imagem muito grande. M\\xe1ximo 5MB\");\n            return;\n        }\n        setUploadingFile(true);\n        try {\n            const fileExt = file.name.split(\".\").pop();\n            const fileName = \"chat-image-\".concat(Date.now(), \".\").concat(fileExt);\n            const filePath = \"chat/\".concat(fileName);\n            const { error: uploadError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"community\").upload(filePath, file);\n            if (uploadError) throw uploadError;\n            const { data: { publicUrl } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"community\").getPublicUrl(filePath);\n            setSelectedImage(publicUrl);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].success(\"Imagem carregada!\");\n        } catch (error) {\n            console.error(\"Erro no upload:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao fazer upload da imagem\");\n        } finally{\n            setUploadingFile(false);\n        }\n    };\n    const handleFileUpload = async (e)=>{\n        var _e_target_files;\n        const file = (_e_target_files = e.target.files) === null || _e_target_files === void 0 ? void 0 : _e_target_files[0];\n        if (!file) return;\n        if (file.size > 10 * 1024 * 1024) {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Arquivo muito grande. M\\xe1ximo 10MB\");\n            return;\n        }\n        setUploadingFile(true);\n        try {\n            const fileExt = file.name.split(\".\").pop();\n            const fileName = \"chat-file-\".concat(Date.now(), \".\").concat(fileExt);\n            const filePath = \"chat/\".concat(fileName);\n            const { error: uploadError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"community\").upload(filePath, file);\n            if (uploadError) throw uploadError;\n            const { data: { publicUrl } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.storage.from(\"community\").getPublicUrl(filePath);\n            setSelectedFile({\n                name: file.name,\n                url: publicUrl,\n                size: file.size,\n                type: file.type\n            });\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].success(\"Arquivo carregado!\");\n        } catch (error) {\n            console.error(\"Erro no upload:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao fazer upload do arquivo\");\n        } finally{\n            setUploadingFile(false);\n        }\n    };\n    async function sendMessage() {\n        if (!user || !newMessage.trim() && !selectedImage && !selectedFile) return;\n        setSending(true);\n        const messageContent = newMessage.trim();\n        const { data: messageData, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"chat_messages\").insert({\n            user_id: user.id,\n            content: messageContent || (selectedImage ? \"\\uD83D\\uDCF7 Imagem\" : \"\\uD83D\\uDCCE Arquivo\"),\n            image_url: selectedImage,\n            file_url: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.url,\n            file_name: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.name,\n            file_size: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.size,\n            file_type: selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.type\n        }).select().single();\n        if (error) {\n            console.error(\"Error sending message:\", error);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao enviar mensagem\");\n        } else {\n            var _messageInputRef_current;\n            // Detectar menções e criar notificações\n            const mentionRegex = /@(\\w+)/g;\n            const mentions = [];\n            let match;\n            while((match = mentionRegex.exec(messageContent)) !== null){\n                mentions.push(match[1]);\n            }\n            // Criar notificações para usuários mencionados\n            if (mentions.length > 0) {\n                // Buscar IDs dos usuários mencionados\n                const { data: mentionedUsers } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"id, username\").in(\"username\", mentions);\n                if (mentionedUsers) {\n                    const notifications = mentionedUsers.filter((u)=>u.id !== user.id) // Não notificar a si mesmo\n                    .map((mentionedUser)=>({\n                            user_id: mentionedUser.id,\n                            type: \"mention\",\n                            content: \"\".concat((profile === null || profile === void 0 ? void 0 : profile.full_name) || (profile === null || profile === void 0 ? void 0 : profile.username) || \"Algu\\xe9m\", \" mencionou voc\\xea no chat\"),\n                            related_user_id: user.id,\n                            is_read: false\n                        }));\n                    if (notifications.length > 0) {\n                        await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"notifications\").insert(notifications);\n                    }\n                }\n            }\n            // Detectar hashtags e criar posts automaticamente\n            const hashtagRegex = /#(\\w+)/g;\n            const hashtags = [];\n            let hashMatch;\n            while((hashMatch = hashtagRegex.exec(messageContent)) !== null){\n                hashtags.push(hashMatch[1]);\n            }\n            // Criar posts para hashtags válidas\n            if (hashtags.length > 0) {\n                console.log(\"Hashtags detectadas:\", hashtags);\n                console.log(\"Tags dispon\\xedveis:\", availableTags);\n                for (const hashtag of hashtags){\n                    const tag = availableTags.find((t)=>t.tag_name.toLowerCase() === hashtag.toLowerCase());\n                    if (tag) {\n                        console.log(\"Tag encontrada:\", tag);\n                        // Criar post automaticamente\n                        const postData = {\n                            author_id: user.id,\n                            space_id: tag.target_space_id,\n                            content: messageContent,\n                            image_url: selectedImage || null\n                        };\n                        console.log(\"Criando post com dados:\", postData);\n                        const { data: postResult, error: postError } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"posts\").insert(postData).select();\n                        if (postError) {\n                            console.error(\"Erro ao criar post:\", postError);\n                            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Erro ao criar post: \".concat(postError.message));\n                        } else {\n                            console.log(\"Post criado com sucesso:\", postResult);\n                            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].success(\"Post criado em \".concat(tag.tag_name, \"!\"));\n                        }\n                    } else {\n                        console.log(\"Tag #\".concat(hashtag, \" n\\xe3o encontrada nas tags dispon\\xedveis\"));\n                    }\n                }\n            }\n            setNewMessage(\"\");\n            setSelectedImage(null);\n            setSelectedFile(null);\n            (_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.focus();\n        }\n        setSending(false);\n    }\n    const handleKeyPress = (e)=>{\n        if (e.key === \"Enter\" && !e.shiftKey) {\n            e.preventDefault();\n            if (!showMentionSuggestions && !showHashtagSuggestions) {\n                sendMessage();\n            }\n        }\n    };\n    const handleMessageChange = (e)=>{\n        const value = e.target.value;\n        const cursorPos = e.target.selectionStart;\n        setNewMessage(value);\n        // Detectar @ para menções\n        const textBeforeCursor = value.substring(0, cursorPos);\n        const lastAtSymbol = textBeforeCursor.lastIndexOf(\"@\");\n        const lastHashSymbol = textBeforeCursor.lastIndexOf(\"#\");\n        // Verificar qual símbolo está mais próximo do cursor\n        if (lastHashSymbol > lastAtSymbol && lastHashSymbol !== -1) {\n            // Detectar # para hashtags\n            const textAfterHash = textBeforeCursor.substring(lastHashSymbol + 1);\n            if (!textAfterHash.includes(\" \") && textAfterHash.length >= 0) {\n                setHashtagSearch(textAfterHash.toLowerCase());\n                setHashtagStartPos(lastHashSymbol);\n                setShowHashtagSuggestions(true);\n                setShowMentionSuggestions(false);\n            } else {\n                setShowHashtagSuggestions(false);\n            }\n        } else if (lastAtSymbol !== -1 && lastAtSymbol > lastHashSymbol) {\n            // Detectar @ para menções\n            const textAfterAt = textBeforeCursor.substring(lastAtSymbol + 1);\n            if (!textAfterAt.includes(\" \") && textAfterAt.length >= 0) {\n                setMentionSearch(textAfterAt.toLowerCase());\n                setMentionStartPos(lastAtSymbol);\n                setShowMentionSuggestions(true);\n                setShowHashtagSuggestions(false);\n            } else {\n                setShowMentionSuggestions(false);\n            }\n        } else {\n            setShowMentionSuggestions(false);\n            setShowHashtagSuggestions(false);\n        }\n    };\n    const insertMention = (username)=>{\n        var _messageInputRef_current;\n        const beforeMention = newMessage.substring(0, mentionStartPos);\n        const afterMention = newMessage.substring(((_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.selectionStart) || newMessage.length);\n        const newText = \"\".concat(beforeMention, \"@\").concat(username, \" \").concat(afterMention);\n        setNewMessage(newText);\n        setShowMentionSuggestions(false);\n        // Focar no input\n        setTimeout(()=>{\n            var _messageInputRef_current, _messageInputRef_current1;\n            (_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.focus();\n            const newCursorPos = mentionStartPos + username.length + 2;\n            (_messageInputRef_current1 = messageInputRef.current) === null || _messageInputRef_current1 === void 0 ? void 0 : _messageInputRef_current1.setSelectionRange(newCursorPos, newCursorPos);\n        }, 0);\n    };\n    const insertHashtag = (tagName)=>{\n        var _messageInputRef_current;\n        const beforeHashtag = newMessage.substring(0, hashtagStartPos);\n        const afterHashtag = newMessage.substring(((_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.selectionStart) || newMessage.length);\n        const newText = \"\".concat(beforeHashtag, \"#\").concat(tagName, \" \").concat(afterHashtag);\n        setNewMessage(newText);\n        setShowHashtagSuggestions(false);\n        setTimeout(()=>{\n            var _messageInputRef_current, _messageInputRef_current1;\n            (_messageInputRef_current = messageInputRef.current) === null || _messageInputRef_current === void 0 ? void 0 : _messageInputRef_current.focus();\n            const newCursorPos = hashtagStartPos + tagName.length + 2;\n            (_messageInputRef_current1 = messageInputRef.current) === null || _messageInputRef_current1 === void 0 ? void 0 : _messageInputRef_current1.setSelectionRange(newCursorPos, newCursorPos);\n        }, 0);\n    };\n    const filteredParticipants = participants.filter((p)=>{\n        var _p_user_username, _p_user, _p_user_full_name, _p_user1;\n        return ((_p_user = p.user) === null || _p_user === void 0 ? void 0 : (_p_user_username = _p_user.username) === null || _p_user_username === void 0 ? void 0 : _p_user_username.toLowerCase().includes(mentionSearch)) || ((_p_user1 = p.user) === null || _p_user1 === void 0 ? void 0 : (_p_user_full_name = _p_user1.full_name) === null || _p_user_full_name === void 0 ? void 0 : _p_user_full_name.toLowerCase().includes(mentionSearch));\n    }).slice(0, 5);\n    const filteredTags = availableTags.filter((tag)=>tag.tag_name.toLowerCase().includes(hashtagSearch));\n    const handleMentionClick = async (username)=>{\n        // Buscar usuário completo pelo username\n        const { data: mentionedUser } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.from(\"profiles\").select(\"*\").eq(\"username\", username).single();\n        if (mentionedUser) {\n            // Navegar para o perfil usando SPA\n            onViewProfile(mentionedUser);\n        } else {\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__[\"default\"].error(\"Usu\\xe1rio n\\xe3o encontrado\");\n        }\n    };\n    const renderMessageContent = (content)=>{\n        // Detectar menções (@username) e hashtags (#tag)\n        const combinedRegex = /(@\\w+)|(#\\w+)/g;\n        const parts = [];\n        let lastIndex = 0;\n        let match;\n        while((match = combinedRegex.exec(content)) !== null){\n            // Adicionar texto antes da menção/hashtag\n            if (match.index > lastIndex) {\n                parts.push(content.substring(lastIndex, match.index));\n            }\n            if (match[1]) {\n                // É uma menção @username\n                const username = match[1].substring(1);\n                parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                    onClick: ()=>handleMentionClick(username),\n                    className: \"bg-primary-100 dark:bg-primary-900 text-primary-700 dark:text-primary-300 px-1 rounded font-medium hover:bg-primary-200 dark:hover:bg-primary-800 transition-colors cursor-pointer inline-flex items-center\",\n                    title: \"Ver perfil de @\".concat(username),\n                    children: [\n                        \"@\",\n                        username\n                    ]\n                }, match.index, true, {\n                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                    lineNumber: 626,\n                    columnNumber: 11\n                }, this));\n            } else if (match[2]) {\n                // É uma hashtag #tag\n                const tagName = match[2].substring(1);\n                const tag = availableTags.find((t)=>t.tag_name.toLowerCase() === tagName.toLowerCase());\n                parts.push(/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"px-1 rounded font-medium \".concat(tag ? \"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300\" : \"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400\"),\n                    title: tag ? \"Tag: \".concat(tag.tag_name, \" (criou post)\") : \"Tag n\\xe3o reconhecida\",\n                    children: [\n                        \"#\",\n                        tagName\n                    ]\n                }, match.index, true, {\n                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                    lineNumber: 641,\n                    columnNumber: 11\n                }, this));\n            }\n            lastIndex = match.index + match[0].length;\n        }\n        // Adicionar texto restante\n        if (lastIndex < content.length) {\n            parts.push(content.substring(lastIndex));\n        }\n        return parts.length > 0 ? parts : content;\n    };\n    if (!user) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"flex items-center justify-center min-h-[60vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                        className: \"text-2xl font-bold text-gray-900 dark:text-white mb-4\",\n                        children: \"Fa\\xe7a login para acessar o chat\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 670,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-gray-600 dark:text-gray-400\",\n                        children: \"Conecte-se com outros membros da comunidade em tempo real\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 673,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                lineNumber: 669,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n            lineNumber: 668,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"h-[calc(100vh-5rem)] flex\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex-1 flex flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-center justify-between\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                            className: \"text-xl font-bold text-gray-900 dark:text-white\",\n                                            children: \"Chat Geral da Comunidade\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 688,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                            children: [\n                                                participants.filter((p)=>p.is_online).length,\n                                                \" online • \",\n                                                displayMembersCount || participants.length,\n                                                \" total\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 691,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 687,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-2\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>{\n                                                console.log(\"Manual refresh triggered\");\n                                                getMessages();\n                                                getParticipants();\n                                            },\n                                            className: \"px-3 py-1 bg-primary-600 text-white rounded text-sm hover:bg-primary-700\",\n                                            children: \"Recarregar\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 696,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                            className: \"text-sm text-gray-500\",\n                                            children: participants.length\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 706,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 695,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                            lineNumber: 686,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 685,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto p-4 space-y-4\",\n                        children: [\n                            loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 716,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-500 dark:text-gray-400\",\n                                            children: \"Carregando mensagens...\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 717,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 715,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 714,\n                                columnNumber: 13\n                            }, this) : messages.length === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center justify-center h-full\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"text-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-6xl mb-4\",\n                                            children: \"\\uD83D\\uDCAC\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 723,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"text-xl font-semibold text-gray-600 dark:text-gray-300 mb-2\",\n                                            children: \"Nenhuma mensagem ainda\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 724,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-gray-500 dark:text-gray-400 mb-6\",\n                                            children: \"Seja o primeiro a enviar uma mensagem para a comunidade!\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 727,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 722,\n                                    columnNumber: 15\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 721,\n                                columnNumber: 13\n                            }, this) : messages.map((message, index)=>{\n                                var _message_user, _message_user1, _message_user2, _message_user3, _message_user4;\n                                const isOwn = message.user_id === user.id;\n                                const showAvatar = index === 0 || messages[index - 1].user_id !== message.user_id;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex \".concat(isOwn ? \"justify-end\" : \"justify-start\", \" group\"),\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex max-w-xs lg:max-w-md \".concat(isOwn ? \"flex-row-reverse\" : \"flex-row\", \" relative\"),\n                                        children: [\n                                            showAvatar && !isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex-shrink-0 mr-3\",\n                                                children: ((_message_user = message.user) === null || _message_user === void 0 ? void 0 : _message_user.avatar_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    src: message.user.avatar_url,\n                                                    alt: message.user.full_name || \"Avatar\",\n                                                    width: 32,\n                                                    height: 32,\n                                                    className: \"rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 746,\n                                                    columnNumber: 25\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-white font-semibold text-sm\",\n                                                        children: (((_message_user1 = message.user) === null || _message_user1 === void 0 ? void 0 : _message_user1.full_name) || ((_message_user2 = message.user) === null || _message_user2 === void 0 ? void 0 : _message_user2.username) || \"U\")[0].toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 755,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 754,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 744,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"\".concat(showAvatar && isOwn ? \"mr-3\" : showAvatar ? \"\" : \"ml-11\"),\n                                                children: [\n                                                    showAvatar && !isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"mb-1\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-sm font-semibold text-gray-900 dark:text-white\",\n                                                                children: ((_message_user3 = message.user) === null || _message_user3 === void 0 ? void 0 : _message_user3.full_name) || ((_message_user4 = message.user) === null || _message_user4 === void 0 ? void 0 : _message_user4.username) || \"Usu\\xe1rio\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 766,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                className: \"text-xs text-gray-500 dark:text-gray-400 ml-2\",\n                                                                children: (0,_barrel_optimize_names_formatDistanceToNow_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(new Date(message.created_at), {\n                                                                    addSuffix: true,\n                                                                    locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n                                                                })\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 769,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 765,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative\",\n                                                        children: [\n                                                            isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                onClick: ()=>deleteMessage(message.id),\n                                                                className: \"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-600 z-10\",\n                                                                title: \"Deletar mensagem\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                    className: \"h-3 w-3\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                    lineNumber: 786,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 781,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"px-4 py-2 rounded-lg \".concat(isOwn ? \"bg-gradient-to-r from-cyan-500 to-blue-600 text-white\" : \"bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-200 dark:border-gray-600\"),\n                                                                children: [\n                                                                    message.image_url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"mb-2\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                                            src: message.image_url,\n                                                                            alt: \"Imagem compartilhada\",\n                                                                            width: 300,\n                                                                            height: 200,\n                                                                            className: \"rounded-lg cursor-pointer hover:opacity-90 transition-opacity\",\n                                                                            onClick: ()=>message.image_url && window.open(message.image_url, \"_blank\")\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                            lineNumber: 799,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 798,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    message.file_url && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"a\", {\n                                                                        href: message.file_url,\n                                                                        target: \"_blank\",\n                                                                        rel: \"noopener noreferrer\",\n                                                                        className: \"flex items-center space-x-2 p-2 bg-gray-100 dark:bg-gray-600 rounded mb-2 hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                                lineNumber: 817,\n                                                                                columnNumber: 27\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"flex-1 min-w-0\",\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"text-sm font-medium truncate\",\n                                                                                        children: message.file_name\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                                        lineNumber: 819,\n                                                                                        columnNumber: 29\n                                                                                    }, this),\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                        className: \"text-xs opacity-75\",\n                                                                                        children: message.file_size ? \"\".concat((message.file_size / 1024).toFixed(1), \" KB\") : \"Arquivo\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                                        lineNumber: 820,\n                                                                                        columnNumber: 29\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                                lineNumber: 818,\n                                                                                columnNumber: 27\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 811,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    message.content && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm whitespace-pre-wrap\",\n                                                                        children: renderMessageContent(message.content)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 828,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 790,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 778,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    isOwn && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-right mt-1\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                            children: (0,_barrel_optimize_names_formatDistanceToNow_date_fns__WEBPACK_IMPORTED_MODULE_5__[\"default\"])(new Date(message.created_at), {\n                                                                addSuffix: true,\n                                                                locale: date_fns_locale__WEBPACK_IMPORTED_MODULE_6__[\"default\"]\n                                                            })\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                            lineNumber: 835,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 834,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 763,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                        lineNumber: 742,\n                                        columnNumber: 17\n                                    }, this)\n                                }, message.id, false, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 738,\n                                    columnNumber: 15\n                                }, this);\n                            }),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                ref: messagesEndRef\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 848,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 712,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-4\",\n                        children: [\n                            (selectedImage || selectedFile) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"mb-3 p-3 bg-gray-50 dark:bg-gray-700 rounded-lg\",\n                                children: [\n                                    selectedImage && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"relative inline-block\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                src: selectedImage,\n                                                alt: \"Preview\",\n                                                width: 200,\n                                                height: 150,\n                                                className: \"rounded-lg\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 858,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedImage(null),\n                                                className: \"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600\",\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 865,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                        lineNumber: 857,\n                                        columnNumber: 17\n                                    }, this),\n                                    selectedFile && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2 p-2 bg-white dark:bg-gray-600 rounded\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                className: \"h-4 w-4\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 875,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                className: \"text-sm flex-1\",\n                                                children: selectedFile.name\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 876,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setSelectedFile(null),\n                                                className: \"text-red-500 hover:text-red-600\",\n                                                children: \"\\xd7\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 877,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                        lineNumber: 874,\n                                        columnNumber: 17\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 855,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-end space-x-3\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex-1 relative\",\n                                        children: [\n                                            showMentionSuggestions && filteredParticipants.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-0 mb-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto z-50\",\n                                                children: filteredParticipants.map((participant)=>{\n                                                    var _participant_user, _participant_user1, _participant_user2, _participant_user3, _participant_user4, _participant_user5;\n                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>{\n                                                            var _participant_user;\n                                                            return insertMention(((_participant_user = participant.user) === null || _participant_user === void 0 ? void 0 : _participant_user.username) || \"\");\n                                                        },\n                                                        className: \"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\",\n                                                        children: [\n                                                            ((_participant_user = participant.user) === null || _participant_user === void 0 ? void 0 : _participant_user.avatar_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                                src: participant.user.avatar_url,\n                                                                alt: participant.user.full_name || \"Avatar\",\n                                                                width: 32,\n                                                                height: 32,\n                                                                className: \"rounded-full\"\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 900,\n                                                                columnNumber: 25\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"text-white font-semibold text-sm\",\n                                                                    children: (((_participant_user1 = participant.user) === null || _participant_user1 === void 0 ? void 0 : _participant_user1.full_name) || ((_participant_user2 = participant.user) === null || _participant_user2 === void 0 ? void 0 : _participant_user2.username) || \"U\")[0].toUpperCase()\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                    lineNumber: 909,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 908,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex-1 min-w-0\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm font-medium text-gray-900 dark:text-white truncate\",\n                                                                        children: ((_participant_user3 = participant.user) === null || _participant_user3 === void 0 ? void 0 : _participant_user3.full_name) || ((_participant_user4 = participant.user) === null || _participant_user4 === void 0 ? void 0 : _participant_user4.username)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 915,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                        children: [\n                                                                            \"@\",\n                                                                            (_participant_user5 = participant.user) === null || _participant_user5 === void 0 ? void 0 : _participant_user5.username\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 918,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 914,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        ]\n                                                    }, participant.id, true, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 894,\n                                                        columnNumber: 21\n                                                    }, this);\n                                                })\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 892,\n                                                columnNumber: 17\n                                            }, this),\n                                            showHashtagSuggestions && filteredTags.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"absolute bottom-full left-0 mb-2 w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto z-50\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-4 py-2 border-b border-gray-200 dark:border-gray-700\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-xs font-semibold text-gray-500 dark:text-gray-400\",\n                                                            children: \"Tags dispon\\xedveis (cria post automaticamente)\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                            lineNumber: 931,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 930,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    filteredTags.map((tag)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                            onClick: ()=>insertHashtag(tag.tag_name),\n                                                            className: \"w-full flex items-center space-x-3 px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-left\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-white font-bold text-sm\",\n                                                                        children: \"#\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                        lineNumber: 942,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                    lineNumber: 941,\n                                                                    columnNumber: 23\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex-1 min-w-0\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-sm font-medium text-gray-900 dark:text-white\",\n                                                                            children: [\n                                                                                \"#\",\n                                                                                tag.tag_name\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                            lineNumber: 945,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Cria post automaticamente\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                            lineNumber: 948,\n                                                                            columnNumber: 25\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                    lineNumber: 944,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, tag.id, true, {\n                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                            lineNumber: 936,\n                                                            columnNumber: 21\n                                                        }, this))\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 929,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"textarea\", {\n                                                ref: messageInputRef,\n                                                value: newMessage,\n                                                onChange: handleMessageChange,\n                                                onKeyPress: handleKeyPress,\n                                                placeholder: \"Digite sua mensagem... (use @ para mencionar, # para tags)\",\n                                                className: \"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none\",\n                                                rows: 1,\n                                                style: {\n                                                    minHeight: \"44px\",\n                                                    maxHeight: \"120px\"\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 957,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                        lineNumber: 889,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center space-x-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                ref: imageInputRef,\n                                                type: \"file\",\n                                                accept: \"image/*\",\n                                                onChange: handleImageUpload,\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 971,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                ref: fileInputRef,\n                                                type: \"file\",\n                                                onChange: handleFileUpload,\n                                                className: \"hidden\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 980,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    var _fileInputRef_current;\n                                                    return (_fileInputRef_current = fileInputRef.current) === null || _fileInputRef_current === void 0 ? void 0 : _fileInputRef_current.click();\n                                                },\n                                                disabled: uploadingFile,\n                                                className: \"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 disabled:opacity-50\",\n                                                title: \"Anexar arquivo\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                    className: \"h-5 w-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 994,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 988,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    var _imageInputRef_current;\n                                                    return (_imageInputRef_current = imageInputRef.current) === null || _imageInputRef_current === void 0 ? void 0 : _imageInputRef_current.click();\n                                                },\n                                                disabled: uploadingFile,\n                                                className: \"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 disabled:opacity-50\",\n                                                title: \"Anexar imagem\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                    className: \"h-5 w-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1004,\n                                                    columnNumber: 17\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 998,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"relative\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                        onClick: ()=>setShowEmojiPicker(!showEmojiPicker),\n                                                        className: \"p-2 text-gray-500 hover:text-gray-700 dark:hover:text-gray-300\",\n                                                        title: \"Adicionar emoji\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                            className: \"h-5 w-5\"\n                                                        }, void 0, false, {\n                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                            lineNumber: 1014,\n                                                            columnNumber: 19\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 1009,\n                                                        columnNumber: 17\n                                                    }, this),\n                                                    showEmojiPicker && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"fixed inset-0 z-40\",\n                                                                onClick: ()=>setShowEmojiPicker(false)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 1021,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute bottom-full right-0 mb-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-2xl p-3 z-50 w-64\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"grid grid-cols-5 gap-2 max-h-48 overflow-y-auto\",\n                                                                    children: emojis.map((emoji, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>handleEmojiSelect(emoji),\n                                                                            className: \"text-2xl hover:bg-gray-100 dark:hover:bg-gray-700 rounded p-2 transition-colors\",\n                                                                            children: emoji\n                                                                        }, index, false, {\n                                                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                            lineNumber: 1028,\n                                                                            columnNumber: 27\n                                                                        }, this))\n                                                                }, void 0, false, {\n                                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                    lineNumber: 1026,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                                lineNumber: 1025,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 1008,\n                                                columnNumber: 15\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: sendMessage,\n                                                disabled: !newMessage.trim() && !selectedImage && !selectedFile || sending || uploadingFile,\n                                                className: \"p-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                children: sending || uploadingFile ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1049,\n                                                    columnNumber: 19\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    className: \"h-5 w-5\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1051,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                lineNumber: 1043,\n                                                columnNumber: 15\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                        lineNumber: 969,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 888,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 852,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                lineNumber: 683,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"w-64 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 hidden lg:flex lg:flex-col\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"p-4 border-b border-gray-200 dark:border-gray-700\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                className: \"text-lg font-semibold text-gray-900 dark:text-white\",\n                                children: [\n                                    \"Membros (\",\n                                    participants.length,\n                                    \")\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 1063,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-gray-500 dark:text-gray-400 mt-1\",\n                                children: [\n                                    participants.filter((p)=>p.is_online).length,\n                                    \" online\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                lineNumber: 1066,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 1062,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-y-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-4 space-y-3\",\n                            children: participants.sort((a, b)=>{\n                                // Ordenar: online primeiro, depois por last_seen\n                                if (a.is_online && !b.is_online) return -1;\n                                if (!a.is_online && b.is_online) return 1;\n                                return new Date(b.last_seen).getTime() - new Date(a.last_seen).getTime();\n                            }).map((participant)=>{\n                                var _participant_user, _participant_user1, _participant_user2, _participant_user3, _participant_user4;\n                                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-3 py-1\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"relative flex-shrink-0\",\n                                            children: [\n                                                ((_participant_user = participant.user) === null || _participant_user === void 0 ? void 0 : _participant_user.avatar_url) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_3___default()), {\n                                                    src: participant.user.avatar_url,\n                                                    alt: participant.user.full_name || \"Avatar\",\n                                                    width: 32,\n                                                    height: 32,\n                                                    className: \"rounded-full\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1085,\n                                                    columnNumber: 21\n                                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-white font-semibold text-sm\",\n                                                        children: (((_participant_user1 = participant.user) === null || _participant_user1 === void 0 ? void 0 : _participant_user1.full_name) || ((_participant_user2 = participant.user) === null || _participant_user2 === void 0 ? void 0 : _participant_user2.username) || \"U\")[0].toUpperCase()\n                                                    }, void 0, false, {\n                                                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                        lineNumber: 1094,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1093,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Circle_ImageIcon_Paperclip_Send_Smile_Trash2_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"absolute -bottom-1 -right-1 h-3 w-3 fill-current \".concat(participant.is_online ? \"text-green-500\" : \"text-gray-400\")\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1099,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 1083,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 min-w-0\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-medium text-gray-900 dark:text-white truncate\",\n                                                    children: ((_participant_user3 = participant.user) === null || _participant_user3 === void 0 ? void 0 : _participant_user3.full_name) || ((_participant_user4 = participant.user) === null || _participant_user4 === void 0 ? void 0 : _participant_user4.username) || \"Usu\\xe1rio\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1105,\n                                                    columnNumber: 19\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                                    children: participant.is_online ? \"Online\" : \"Offline\"\n                                                }, void 0, false, {\n                                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                                    lineNumber: 1108,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                            lineNumber: 1104,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, participant.id, true, {\n                                    fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                                    lineNumber: 1082,\n                                    columnNumber: 15\n                                }, this);\n                            })\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                            lineNumber: 1073,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                        lineNumber: 1072,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n                lineNumber: 1060,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"C:\\\\Users\\\\helio\\\\OneDrive\\\\Documentos\\\\COMUNIDADE\\\\components\\\\pages\\\\ChatPage.tsx\",\n        lineNumber: 682,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatPage, \"rSJowMBZUPz8NXHjiFNuOfFuRi4=\");\n_c = ChatPage;\nvar _c;\n$RefreshReg$(_c, \"ChatPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvcGFnZXMvQ2hhdFBhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVtRDtBQUM4QjtBQVU1RDtBQUNTO0FBQ2dCO0FBQ1I7QUFDSDtBQVFwQixTQUFTYyxTQUFTLEtBQStDO1FBQS9DLEVBQUVDLElBQUksRUFBRUMsT0FBTyxFQUFFQyxhQUFhLEVBQWlCLEdBQS9DOztJQUMvQixNQUFNLENBQUNDLFVBQVVDLFlBQVksR0FBR25CLCtDQUFRQSxDQUFnQixFQUFFO0lBQzFELE1BQU0sQ0FBQ29CLGNBQWNDLGdCQUFnQixHQUFHckIsK0NBQVFBLENBQW9CLEVBQUU7SUFDdEUsTUFBTSxDQUFDc0IsWUFBWUMsY0FBYyxHQUFHdkIsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDd0IsU0FBU0MsV0FBVyxHQUFHekIsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDMEIsU0FBU0MsV0FBVyxHQUFHM0IsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDNEIsd0JBQXdCQywwQkFBMEIsR0FBRzdCLCtDQUFRQSxDQUFDO0lBQ3JFLE1BQU0sQ0FBQzhCLGVBQWVDLGlCQUFpQixHQUFHL0IsK0NBQVFBLENBQUM7SUFDbkQsTUFBTSxDQUFDZ0MsaUJBQWlCQyxtQkFBbUIsR0FBR2pDLCtDQUFRQSxDQUFDO0lBQ3ZELE1BQU0sQ0FBQ2tDLGlCQUFpQkMsbUJBQW1CLEdBQUduQywrQ0FBUUEsQ0FBQztJQUN2RCxNQUFNLENBQUNvQyxlQUFlQyxpQkFBaUIsR0FBR3JDLCtDQUFRQSxDQUFDO0lBQ25ELE1BQU0sQ0FBQ3NDLGVBQWVDLGlCQUFpQixHQUFHdkMsK0NBQVFBLENBQWdCO0lBQ2xFLE1BQU0sQ0FBQ3dDLGNBQWNDLGdCQUFnQixHQUFHekMsK0NBQVFBLENBQWlFO0lBQ2pILE1BQU0sQ0FBQzBDLHdCQUF3QkMsMEJBQTBCLEdBQUczQywrQ0FBUUEsQ0FBQztJQUNyRSxNQUFNLENBQUM0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QUEscUJBQUFBLFlBQVk3TyxJQUFJLGNBQWhCNk8seUNBQUFBLG1CQUFrQjlFLFNBQVMsT0FBSThFLHFCQUFBQSxZQUFZN08sSUFBSSxjQUFoQjZPLHlDQUFBQSxtQkFBa0I3RSxRQUFRLEtBQUksR0FBRSxDQUFFLENBQUMsRUFBRSxDQUFDbUUsV0FBVzs7Ozs7Ozs7Ozs7OERBSXhGLDhEQUFDM08seUhBQU1BO29EQUFDOE4sV0FBVyxvREFFbEIsT0FEQ3VCLFlBQVluSixTQUFTLEdBQUcsbUJBQW1COzs7Ozs7Ozs7Ozs7c0RBSS9DLDhEQUFDK0g7NENBQUlILFdBQVU7OzhEQUNiLDhEQUFDOUg7b0RBQUU4SCxXQUFVOzhEQUNWdUIsRUFBQUEscUJBQUFBLFlBQVk3TyxJQUFJLGNBQWhCNk8seUNBQUFBLG1CQUFrQjlFLFNBQVMsT0FBSThFLHFCQUFBQSxZQUFZN08sSUFBSSxjQUFoQjZPLHlDQUFBQSxtQkFBa0I3RSxRQUFRLEtBQUk7Ozs7Ozs4REFFaEUsOERBQUN4RTtvREFBRThILFdBQVU7OERBQ1Z1QixZQUFZbkosU0FBUyxHQUFHLFdBQVc7Ozs7Ozs7Ozs7Ozs7bUNBM0JoQ21KLFlBQVlqTCxFQUFFOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUN0QztHQXJrQ3dCN0Q7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9wYWdlcy9DaGF0UGFnZS50c3g/MjQ3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSAncmVhY3QnXG5pbXBvcnQgeyBzdXBhYmFzZSwgdHlwZSBDaGF0TWVzc2FnZSwgdHlwZSBDaGF0UGFydGljaXBhbnQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSdcbmltcG9ydCB7IFVzZXIgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXG5pbXBvcnQgeyBcbiAgU2VuZCwgXG4gIFBhcGVyY2xpcCwgXG4gIFNtaWxlLCBcbiAgVXNlcnMsXG4gIENpcmNsZSxcbiAgSW1hZ2VJY29uLFxuICBUcmFzaDJcbn0gZnJvbSAnbHVjaWRlLXJlYWN0J1xuaW1wb3J0IEltYWdlIGZyb20gJ25leHQvaW1hZ2UnXG5pbXBvcnQgeyBmb3JtYXREaXN0YW5jZVRvTm93IH0gZnJvbSAnZGF0ZS1mbnMnXG5pbXBvcnQgeyBwdEJSIH0gZnJvbSAnZGF0ZS1mbnMvbG9jYWxlJ1xuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCdcblxuaW50ZXJmYWNlIENoYXRQYWdlUHJvcHMge1xuICB1c2VyOiBVc2VyIHwgbnVsbFxuICBwcm9maWxlOiBhbnlcbiAgb25WaWV3UHJvZmlsZTogKHByb2ZpbGU6IGFueSkgPT4gdm9pZFxufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0UGFnZSh7IHVzZXIsIHByb2ZpbGUsIG9uVmlld1Byb2ZpbGUgfTogQ2hhdFBhZ2VQcm9wcykge1xuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPENoYXRNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbcGFydGljaXBhbnRzLCBzZXRQYXJ0aWNpcGFudHNdID0gdXNlU3RhdGU8Q2hhdFBhcnRpY2lwYW50W10+KFtdKVxuICBjb25zdCBbbmV3TWVzc2FnZSwgc2V0TmV3TWVzc2FnZV0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW3NlbmRpbmcsIHNldFNlbmRpbmddID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG4gIGNvbnN0IFtzaG93TWVudGlvblN1Z2dlc3Rpb25zLCBzZXRTaG93TWVudGlvblN1Z2dlc3Rpb25zXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBjb25zdCBbbWVudGlvblNlYXJjaCwgc2V0TWVudGlvblNlYXJjaF0gPSB1c2VTdGF0ZSgnJylcbiAgY29uc3QgW21lbnRpb25TdGFydFBvcywgc2V0TWVudGlvblN0YXJ0UG9zXSA9IHVzZVN0YXRlKDApXG4gIGNvbnN0IFtzaG93RW1vamlQaWNrZXIsIHNldFNob3dFbW9qaVBpY2tlcl0gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3VwbG9hZGluZ0ZpbGUsIHNldFVwbG9hZGluZ0ZpbGVdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtzZWxlY3RlZEltYWdlLCBzZXRTZWxlY3RlZEltYWdlXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtzZWxlY3RlZEZpbGUsIHNldFNlbGVjdGVkRmlsZV0gPSB1c2VTdGF0ZTx7bmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZywgc2l6ZTogbnVtYmVyLCB0eXBlOiBzdHJpbmd9IHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3Nob3dIYXNodGFnU3VnZ2VzdGlvbnMsIHNldFNob3dIYXNodGFnU3VnZ2VzdGlvbnNdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtoYXNodGFnU2VhcmNoLCBzZXRIYXNodGFnU2VhcmNoXSA9IHVzZVN0YXRlKCcnKVxuICBjb25zdCBbaGFzaHRhZ1N0YXJ0UG9zLCBzZXRIYXNodGFnU3RhcnRQb3NdID0gdXNlU3RhdGUoMClcbiAgY29uc3QgW2F2YWlsYWJsZVRhZ3MsIHNldEF2YWlsYWJsZVRhZ3NdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCBbZGlzcGxheU1lbWJlcnNDb3VudCwgc2V0RGlzcGxheU1lbWJlcnNDb3VudF0gPSB1c2VTdGF0ZSgwKVxuICBcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IG1lc3NhZ2VJbnB1dFJlZiA9IHVzZVJlZjxIVE1MVGV4dEFyZWFFbGVtZW50PihudWxsKVxuICBjb25zdCBmaWxlSW5wdXRSZWYgPSB1c2VSZWY8SFRNTElucHV0RWxlbWVudD4obnVsbClcbiAgY29uc3QgaW1hZ2VJbnB1dFJlZiA9IHVzZVJlZjxIVE1MSW5wdXRFbGVtZW50PihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ0NoYXRQYWdlIHVzZUVmZmVjdCAtIFVzZXI6JywgdXNlcilcbiAgICBpZiAodXNlcikge1xuICAgICAgY29uc29sZS5sb2coJ1VzZXIgYXV0aGVudGljYXRlZCwgbG9hZGluZyBjaGF0IGRhdGEuLi4nKVxuICAgICAgZ2V0TWVzc2FnZXMoKVxuICAgICAgZ2V0UGFydGljaXBhbnRzKClcbiAgICAgIHVwZGF0ZVVzZXJPbmxpbmVTdGF0dXModHJ1ZSlcbiAgICAgIGxvYWRBdmFpbGFibGVUYWdzKClcbiAgICAgIFxuICAgICAgLy8gU3Vic2NyaWJlIHRvIG5ldyBtZXNzYWdlc1xuICAgICAgY29uc3QgbWVzc2FnZXNTdWJzY3JpcHRpb24gPSBzdXBhYmFzZVxuICAgICAgICAuY2hhbm5lbCgnY2hhdF9tZXNzYWdlcycpXG4gICAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxuICAgICAgICAgIHsgZXZlbnQ6ICdJTlNFUlQnLCBzY2hlbWE6ICdwdWJsaWMnLCB0YWJsZTogJ2NoYXRfbWVzc2FnZXMnIH0sXG4gICAgICAgICAgYXN5bmMgKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld01lc3NhZ2UgPSBwYXlsb2FkLm5ldyBhcyBDaGF0TWVzc2FnZVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBCdXNjYXIgZGFkb3MgY29tcGxldG9zIGRhIG1lbnNhZ2VtIGluY2x1aW5kbyBwZXJmaWwgZG8gdXN1w6FyaW9cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogZnVsbE1lc3NhZ2UgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdjaGF0X21lc3NhZ2VzJylcbiAgICAgICAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgICAgICAgKixcbiAgICAgICAgICAgICAgICBwcm9maWxlcyFma19jaGF0X21lc3NhZ2VzX3VzZXJfaWQoXG4gICAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICAgIGZ1bGxfbmFtZSxcbiAgICAgICAgICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgYXZhdGFyX3VybFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgLmVxKCdpZCcsIG5ld01lc3NhZ2UuaWQpXG4gICAgICAgICAgICAgIC5zaW5nbGUoKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoZnVsbE1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRNZXNzYWdlID0ge1xuICAgICAgICAgICAgICAgIC4uLmZ1bGxNZXNzYWdlLFxuICAgICAgICAgICAgICAgIHVzZXI6IGZ1bGxNZXNzYWdlLnByb2ZpbGVzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBbLi4ucHJldiwgdHJhbnNmb3JtZWRNZXNzYWdlXSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNldE1lc3NhZ2VzKHByZXYgPT4gWy4uLnByZXYsIG5ld01lc3NhZ2VdKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTY3JvbGwgc3VhdmUgYXBlbmFzIHBhcmEgbm92YXMgbWVuc2FnZW5zIGVtIHRlbXBvIHJlYWxcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2Nyb2xsVG9Cb3R0b20odHJ1ZSksIDEwMClcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZSgpXG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBwYXJ0aWNpcGFudCBjaGFuZ2VzXG4gICAgICBjb25zdCBwYXJ0aWNpcGFudHNTdWJzY3JpcHRpb24gPSBzdXBhYmFzZVxuICAgICAgICAuY2hhbm5lbCgnY2hhdF9wYXJ0aWNpcGFudHMnKVxuICAgICAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLFxuICAgICAgICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdjaGF0X3BhcnRpY2lwYW50cycgfSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICBnZXRQYXJ0aWNpcGFudHMoKVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKClcblxuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgbWVzc2FnZXNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICAgICAgICBwYXJ0aWNpcGFudHNTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKVxuICAgICAgICB1cGRhdGVVc2VyT25saW5lU3RhdHVzKGZhbHNlKVxuICAgICAgfVxuICAgIH1cbiAgfSwgW3VzZXJdKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gU2Nyb2xsIGluc3RhbnTDom5lbyBubyBjYXJyZWdhbWVudG8gaW5pY2lhbCwgc3VhdmUgcGFyYSBub3ZhcyBtZW5zYWdlbnNcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID4gMCkge1xuICAgICAgc2Nyb2xsVG9Cb3R0b20oZmFsc2UpIC8vIFNlbXByZSBpbnN0YW50w6JuZW9cbiAgICB9XG4gIH0sIFttZXNzYWdlc10pXG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoc21vb3RoID0gZmFsc2UpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IFxuICAgICAgYmVoYXZpb3I6IHNtb290aCA/ICdzbW9vdGgnIDogJ2luc3RhbnQnIFxuICAgIH0pXG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBnZXRNZXNzYWdlcygpIHtcbiAgICBjb25zb2xlLmxvZygnRmV0Y2hpbmcgbWVzc2FnZXMgZm9yIHVzZXI6JywgdXNlcj8uaWQpXG4gICAgXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjaGF0X21lc3NhZ2VzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBwcm9maWxlcyFma19jaGF0X21lc3NhZ2VzX3VzZXJfaWQoXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICAgIHVzZXJuYW1lLFxuICAgICAgICAgIGF2YXRhcl91cmxcbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG4gICAgICAubGltaXQoMTAwMCkgLy8gQXVtZW50YWRvIHBhcmEgMTAwMCBtZW5zYWdlbnNcblxuICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlcyBxdWVyeSByZXN1bHQ6JywgeyBkYXRhLCBlcnJvciB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBtZXNzYWdlczonLCBlcnJvcilcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJvIGFvIGNhcnJlZ2FyIG1lbnNhZ2VuczogJyArIGVycm9yLm1lc3NhZ2UpXG4gICAgfSBlbHNlIGlmIChkYXRhKSB7XG4gICAgICAvLyBUcmFuc2Zvcm1hciBvcyBkYWRvcyBwYXJhIG8gZm9ybWF0byBlc3BlcmFkb1xuICAgICAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gZGF0YS5tYXAobWVzc2FnZSA9PiAoe1xuICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICB1c2VyOiBtZXNzYWdlLnByb2ZpbGVzXG4gICAgICB9KSlcbiAgICAgIGNvbnNvbGUubG9nKCdNZXNzYWdlcyBsb2FkZWQ6JywgdHJhbnNmb3JtZWREYXRhLmxlbmd0aCwgdHJhbnNmb3JtZWREYXRhKVxuICAgICAgc2V0TWVzc2FnZXModHJhbnNmb3JtZWREYXRhKVxuICAgIH1cbiAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0UGFydGljaXBhbnRzKCkge1xuICAgIGNvbnNvbGUubG9nKCdGZXRjaGluZyBhbGwgY29tbXVuaXR5IG1lbWJlcnMuLi4nKVxuICAgIFxuICAgIC8vIEJ1c2NhciB0b2RvcyBvcyB1c3XDoXJpb3MgZGEgY29tdW5pZGFkZVxuICAgIGNvbnN0IHsgZGF0YTogYWxsVXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICBpZCxcbiAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICB1c2VybmFtZSxcbiAgICAgICAgYXZhdGFyX3VybCxcbiAgICAgICAgY3JlYXRlZF9hdFxuICAgICAgYClcbiAgICAgIC5vcmRlcignZnVsbF9uYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcbiAgICAgIC5saW1pdCg1MDApIC8vIEdhcmFudGlyIHF1ZSBwZWd1ZSB0b2RvcyBvcyB1c3XDoXJpb3NcblxuICAgIGlmICh1c2Vyc0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyB1c2VyczonLCB1c2Vyc0Vycm9yKVxuICAgICAgdG9hc3QuZXJyb3IoJ0Vycm8gYW8gY2FycmVnYXIgdXN1w6FyaW9zOiAnICsgdXNlcnNFcnJvci5tZXNzYWdlKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgLy8gQnVzY2FyIHN0YXR1cyBvbmxpbmUgZG9zIHVzdcOhcmlvcyBxdWUgasOhIHBhcnRpY2lwYXJhbSBkbyBjaGF0XG4gICAgY29uc3QgeyBkYXRhOiBjaGF0UGFydGljaXBhbnRzLCBlcnJvcjogcGFydGljaXBhbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2hhdF9wYXJ0aWNpcGFudHMnKVxuICAgICAgLnNlbGVjdCgndXNlcl9pZCwgaXNfb25saW5lLCBsYXN0X3NlZW4nKVxuXG4gICAgY29uc29sZS5sb2coJ1VzZXJzIHF1ZXJ5IHJlc3VsdDonLCB7IGFsbFVzZXJzLCBjaGF0UGFydGljaXBhbnRzIH0pXG5cbiAgICBpZiAoYWxsVXNlcnMpIHtcbiAgICAgIC8vIENvbWJpbmFyIGRhZG9zIGRvcyB1c3XDoXJpb3MgY29tIHN0YXR1cyBkbyBjaGF0XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZERhdGEgPSBhbGxVc2Vycy5tYXAodXNlciA9PiB7XG4gICAgICAgIGNvbnN0IGNoYXREYXRhID0gY2hhdFBhcnRpY2lwYW50cz8uZmluZChwID0+IHAudXNlcl9pZCA9PT0gdXNlci5pZClcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogdXNlci5pZCxcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxuICAgICAgICAgIHVzZXI6IHVzZXIsXG4gICAgICAgICAgaXNfb25saW5lOiBjaGF0RGF0YT8uaXNfb25saW5lIHx8IGZhbHNlLFxuICAgICAgICAgIGxhc3Rfc2VlbjogY2hhdERhdGE/Lmxhc3Rfc2VlbiB8fCB1c2VyLmNyZWF0ZWRfYXRcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ0FsbCBjb21tdW5pdHkgbWVtYmVycyBsb2FkZWQ6JywgdHJhbnNmb3JtZWREYXRhLmxlbmd0aCwgdHJhbnNmb3JtZWREYXRhKVxuICAgICAgc2V0UGFydGljaXBhbnRzKHRyYW5zZm9ybWVkRGF0YSBhcyBDaGF0UGFydGljaXBhbnRbXSlcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXIgbsO6bWVybyBhIGV4aWJpciAoZmFrZSBvdSByZWFsKVxuICAgICAgYXdhaXQgY2FsY3VsYXRlRGlzcGxheUNvdW50KHRyYW5zZm9ybWVkRGF0YS5sZW5ndGgpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gY2FsY3VsYXRlRGlzcGxheUNvdW50KHJlYWxDb3VudDogbnVtYmVyKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEJ1c2NhciBjb25maWd1cmHDp8O1ZXNcbiAgICAgIGNvbnN0IHsgZGF0YTogc2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjb21tdW5pdHlfc2V0dGluZ3MnKVxuICAgICAgICAuc2VsZWN0KCdmYWtlX21lbWJlcnNfY291bnQsIHNob3dfZmFrZV9jb3VudCcpXG4gICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAvLyBWZXJpZmljYXIgc2UgdXN1w6FyaW8gw6kgYWRtaW5cbiAgICAgIGxldCBpc0FkbWluID0gZmFsc2VcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgICAgICAuc2VsZWN0KCdyb2xlJylcbiAgICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgICAgICAuc2luZ2xlKClcbiAgICAgICAgXG4gICAgICAgIGlzQWRtaW4gPSB1c2VyUHJvZmlsZT8ucm9sZSA9PT0gJ2FkbWluJ1xuICAgICAgfVxuXG4gICAgICAvLyBTZSBuw6NvIMOpIGFkbWluIGUgZmFrZSBlc3TDoSBhdGl2bywgbW9zdHJhIG7Dum1lcm8gZmFrZVxuICAgICAgaWYgKCFpc0FkbWluICYmIHNldHRpbmdzPy5zaG93X2Zha2VfY291bnQpIHtcbiAgICAgICAgc2V0RGlzcGxheU1lbWJlcnNDb3VudChzZXR0aW5ncy5mYWtlX21lbWJlcnNfY291bnQgfHwgcmVhbENvdW50KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2V0RGlzcGxheU1lbWJlcnNDb3VudChyZWFsQ291bnQpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNhbGN1bGF0aW5nIGRpc3BsYXkgY291bnQ6JywgZXJyb3IpXG4gICAgICBzZXREaXNwbGF5TWVtYmVyc0NvdW50KHJlYWxDb3VudClcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiBsb2FkQXZhaWxhYmxlVGFncygpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NoYXRfYXV0b190YWdzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2FkaW5nIHRhZ3M6JywgZXJyb3IpXG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEF2YWlsYWJsZVRhZ3MoZGF0YSB8fCBbXSlcbiAgICAgIGNvbnNvbGUubG9nKCdBdmFpbGFibGUgdGFncyBsb2FkZWQ6JywgZGF0YSlcbiAgICB9XG4gIH1cblxuICBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyT25saW5lU3RhdHVzKGlzT25saW5lOiBib29sZWFuKSB7XG4gICAgaWYgKCF1c2VyKSByZXR1cm5cblxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2hhdF9wYXJ0aWNpcGFudHMnKVxuICAgICAgLnVwc2VydCh7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgIGlzX29ubGluZTogaXNPbmxpbmUsXG4gICAgICAgIGxhc3Rfc2VlbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyBvbmxpbmUgc3RhdHVzOicsIGVycm9yKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGVtb2ppcyA9IFsn8J+YgCcsICfwn5iCJywgJ/CfmI0nLCAn8J+lsCcsICfwn5iOJywgJ/CfpJQnLCAn8J+YoicsICfwn5itJywgJ/CfmKEnLCAn8J+krycsICfwn5GNJywgJ/CfkY4nLCAn8J+RjycsICfwn5mPJywgJ/CfkqonLCAn8J+OiScsICfwn5SlJywgJ+KdpO+4jycsICfwn5KvJywgJ+KchSddXG5cbiAgY29uc3QgaGFuZGxlRW1vamlTZWxlY3QgPSAoZW1vamk6IHN0cmluZykgPT4ge1xuICAgIHNldE5ld01lc3NhZ2UocHJldiA9PiBwcmV2ICsgZW1vamkpXG4gICAgc2V0U2hvd0Vtb2ppUGlja2VyKGZhbHNlKVxuICAgIG1lc3NhZ2VJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpXG4gIH1cblxuICBjb25zdCBkZWxldGVNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2VJZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKCFjb25maXJtKCdUZW0gY2VydGV6YSBxdWUgZGVzZWphIGRlbGV0YXIgZXN0YSBtZW5zYWdlbT8nKSkgcmV0dXJuXG5cbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NoYXRfbWVzc2FnZXMnKVxuICAgICAgLmRlbGV0ZSgpXG4gICAgICAuZXEoJ2lkJywgbWVzc2FnZUlkKVxuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBtZXNzYWdlOicsIGVycm9yKVxuICAgICAgdG9hc3QuZXJyb3IoJ0Vycm8gYW8gZGVsZXRhciBtZW5zYWdlbScpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFJlbW92ZXIgbWVuc2FnZW0gbG9jYWxtZW50ZVxuICAgICAgc2V0TWVzc2FnZXMocHJldiA9PiBwcmV2LmZpbHRlcihtID0+IG0uaWQgIT09IG1lc3NhZ2VJZCkpXG4gICAgICB0b2FzdC5zdWNjZXNzKCdNZW5zYWdlbSBkZWxldGFkYScpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VVcGxvYWQgPSBhc3luYyAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTElucHV0RWxlbWVudD4pID0+IHtcbiAgICBjb25zdCBmaWxlID0gZS50YXJnZXQuZmlsZXM/LlswXVxuICAgIGlmICghZmlsZSkgcmV0dXJuXG5cbiAgICBpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKCdpbWFnZS8nKSkge1xuICAgICAgdG9hc3QuZXJyb3IoJ1BvciBmYXZvciwgc2VsZWNpb25lIHVtYSBpbWFnZW0nKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDUgKiAxMDI0ICogMTAyNCkge1xuICAgICAgdG9hc3QuZXJyb3IoJ0ltYWdlbSBtdWl0byBncmFuZGUuIE3DoXhpbW8gNU1CJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFVwbG9hZGluZ0ZpbGUodHJ1ZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKClcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGNoYXQtaW1hZ2UtJHtEYXRlLm5vdygpfS4ke2ZpbGVFeHR9YFxuICAgICAgY29uc3QgZmlsZVBhdGggPSBgY2hhdC8ke2ZpbGVOYW1lfWBcblxuICAgICAgY29uc3QgeyBlcnJvcjogdXBsb2FkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgICAgLmZyb20oJ2NvbW11bml0eScpXG4gICAgICAgIC51cGxvYWQoZmlsZVBhdGgsIGZpbGUpXG5cbiAgICAgIGlmICh1cGxvYWRFcnJvcikgdGhyb3cgdXBsb2FkRXJyb3JcblxuICAgICAgY29uc3QgeyBkYXRhOiB7IHB1YmxpY1VybCB9IH0gPSBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAgIC5mcm9tKCdjb21tdW5pdHknKVxuICAgICAgICAuZ2V0UHVibGljVXJsKGZpbGVQYXRoKVxuXG4gICAgICBzZXRTZWxlY3RlZEltYWdlKHB1YmxpY1VybClcbiAgICAgIHRvYXN0LnN1Y2Nlc3MoJ0ltYWdlbSBjYXJyZWdhZGEhJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJybyBubyB1cGxvYWQ6JywgZXJyb3IpXG4gICAgICB0b2FzdC5lcnJvcignRXJybyBhbyBmYXplciB1cGxvYWQgZGEgaW1hZ2VtJylcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0VXBsb2FkaW5nRmlsZShmYWxzZSlcbiAgICB9XG4gIH1cblxuICBjb25zdCBoYW5kbGVGaWxlVXBsb2FkID0gYXN5bmMgKGU6IFJlYWN0LkNoYW5nZUV2ZW50PEhUTUxJbnB1dEVsZW1lbnQ+KSA9PiB7XG4gICAgY29uc3QgZmlsZSA9IGUudGFyZ2V0LmZpbGVzPy5bMF1cbiAgICBpZiAoIWZpbGUpIHJldHVyblxuXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDEwICogMTAyNCAqIDEwMjQpIHtcbiAgICAgIHRvYXN0LmVycm9yKCdBcnF1aXZvIG11aXRvIGdyYW5kZS4gTcOheGltbyAxME1CJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldFVwbG9hZGluZ0ZpbGUodHJ1ZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlRXh0ID0gZmlsZS5uYW1lLnNwbGl0KCcuJykucG9wKClcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYGNoYXQtZmlsZS0ke0RhdGUubm93KCl9LiR7ZmlsZUV4dH1gXG4gICAgICBjb25zdCBmaWxlUGF0aCA9IGBjaGF0LyR7ZmlsZU5hbWV9YFxuXG4gICAgICBjb25zdCB7IGVycm9yOiB1cGxvYWRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgICAgICAuZnJvbSgnY29tbXVuaXR5JylcbiAgICAgICAgLnVwbG9hZChmaWxlUGF0aCwgZmlsZSlcblxuICAgICAgaWYgKHVwbG9hZEVycm9yKSB0aHJvdyB1cGxvYWRFcnJvclxuXG4gICAgICBjb25zdCB7IGRhdGE6IHsgcHVibGljVXJsIH0gfSA9IHN1cGFiYXNlLnN0b3JhZ2VcbiAgICAgICAgLmZyb20oJ2NvbW11bml0eScpXG4gICAgICAgIC5nZXRQdWJsaWNVcmwoZmlsZVBhdGgpXG5cbiAgICAgIHNldFNlbGVjdGVkRmlsZSh7XG4gICAgICAgIG5hbWU6IGZpbGUubmFtZSxcbiAgICAgICAgdXJsOiBwdWJsaWNVcmwsXG4gICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgdHlwZTogZmlsZS50eXBlXG4gICAgICB9KVxuICAgICAgdG9hc3Quc3VjY2VzcygnQXJxdWl2byBjYXJyZWdhZG8hJylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJybyBubyB1cGxvYWQ6JywgZXJyb3IpXG4gICAgICB0b2FzdC5lcnJvcignRXJybyBhbyBmYXplciB1cGxvYWQgZG8gYXJxdWl2bycpXG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldFVwbG9hZGluZ0ZpbGUoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2VuZE1lc3NhZ2UoKSB7XG4gICAgaWYgKCF1c2VyIHx8ICghbmV3TWVzc2FnZS50cmltKCkgJiYgIXNlbGVjdGVkSW1hZ2UgJiYgIXNlbGVjdGVkRmlsZSkpIHJldHVyblxuXG4gICAgc2V0U2VuZGluZyh0cnVlKVxuXG4gICAgY29uc3QgbWVzc2FnZUNvbnRlbnQgPSBuZXdNZXNzYWdlLnRyaW0oKVxuXG4gICAgY29uc3QgeyBkYXRhOiBtZXNzYWdlRGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2hhdF9tZXNzYWdlcycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQgfHwgKHNlbGVjdGVkSW1hZ2UgPyAn8J+TtyBJbWFnZW0nIDogJ/Cfk44gQXJxdWl2bycpLFxuICAgICAgICBpbWFnZV91cmw6IHNlbGVjdGVkSW1hZ2UsXG4gICAgICAgIGZpbGVfdXJsOiBzZWxlY3RlZEZpbGU/LnVybCxcbiAgICAgICAgZmlsZV9uYW1lOiBzZWxlY3RlZEZpbGU/Lm5hbWUsXG4gICAgICAgIGZpbGVfc2l6ZTogc2VsZWN0ZWRGaWxlPy5zaXplLFxuICAgICAgICBmaWxlX3R5cGU6IHNlbGVjdGVkRmlsZT8udHlwZVxuICAgICAgfSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNlbmRpbmcgbWVzc2FnZTonLCBlcnJvcilcbiAgICAgIHRvYXN0LmVycm9yKCdFcnJvIGFvIGVudmlhciBtZW5zYWdlbScpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIERldGVjdGFyIG1lbsOnw7VlcyBlIGNyaWFyIG5vdGlmaWNhw6fDtWVzXG4gICAgICBjb25zdCBtZW50aW9uUmVnZXggPSAvQChcXHcrKS9nXG4gICAgICBjb25zdCBtZW50aW9ucyA9IFtdXG4gICAgICBsZXQgbWF0Y2hcblxuICAgICAgd2hpbGUgKChtYXRjaCA9IG1lbnRpb25SZWdleC5leGVjKG1lc3NhZ2VDb250ZW50KSkgIT09IG51bGwpIHtcbiAgICAgICAgbWVudGlvbnMucHVzaChtYXRjaFsxXSlcbiAgICAgIH1cblxuICAgICAgLy8gQ3JpYXIgbm90aWZpY2HDp8O1ZXMgcGFyYSB1c3XDoXJpb3MgbWVuY2lvbmFkb3NcbiAgICAgIGlmIChtZW50aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIEJ1c2NhciBJRHMgZG9zIHVzdcOhcmlvcyBtZW5jaW9uYWRvc1xuICAgICAgICBjb25zdCB7IGRhdGE6IG1lbnRpb25lZFVzZXJzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdwcm9maWxlcycpXG4gICAgICAgICAgLnNlbGVjdCgnaWQsIHVzZXJuYW1lJylcbiAgICAgICAgICAuaW4oJ3VzZXJuYW1lJywgbWVudGlvbnMpXG5cbiAgICAgICAgaWYgKG1lbnRpb25lZFVzZXJzKSB7XG4gICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IG1lbnRpb25lZFVzZXJzXG4gICAgICAgICAgICAuZmlsdGVyKHUgPT4gdS5pZCAhPT0gdXNlci5pZCkgLy8gTsOjbyBub3RpZmljYXIgYSBzaSBtZXNtb1xuICAgICAgICAgICAgLm1hcChtZW50aW9uZWRVc2VyID0+ICh7XG4gICAgICAgICAgICAgIHVzZXJfaWQ6IG1lbnRpb25lZFVzZXIuaWQsXG4gICAgICAgICAgICAgIHR5cGU6ICdtZW50aW9uJyxcbiAgICAgICAgICAgICAgY29udGVudDogYCR7cHJvZmlsZT8uZnVsbF9uYW1lIHx8IHByb2ZpbGU/LnVzZXJuYW1lIHx8ICdBbGd1w6ltJ30gbWVuY2lvbm91IHZvY8OqIG5vIGNoYXRgLFxuICAgICAgICAgICAgICByZWxhdGVkX3VzZXJfaWQ6IHVzZXIuaWQsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGZhbHNlXG4gICAgICAgICAgICB9KSlcblxuICAgICAgICAgIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcbiAgICAgICAgICAgICAgLmluc2VydChub3RpZmljYXRpb25zKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBEZXRlY3RhciBoYXNodGFncyBlIGNyaWFyIHBvc3RzIGF1dG9tYXRpY2FtZW50ZVxuICAgICAgY29uc3QgaGFzaHRhZ1JlZ2V4ID0gLyMoXFx3KykvZ1xuICAgICAgY29uc3QgaGFzaHRhZ3MgPSBbXVxuICAgICAgbGV0IGhhc2hNYXRjaFxuXG4gICAgICB3aGlsZSAoKGhhc2hNYXRjaCA9IGhhc2h0YWdSZWdleC5leGVjKG1lc3NhZ2VDb250ZW50KSkgIT09IG51bGwpIHtcbiAgICAgICAgaGFzaHRhZ3MucHVzaChoYXNoTWF0Y2hbMV0pXG4gICAgICB9XG5cbiAgICAgIC8vIENyaWFyIHBvc3RzIHBhcmEgaGFzaHRhZ3MgdsOhbGlkYXNcbiAgICAgIGlmIChoYXNodGFncy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIYXNodGFncyBkZXRlY3RhZGFzOicsIGhhc2h0YWdzKVxuICAgICAgICBjb25zb2xlLmxvZygnVGFncyBkaXNwb27DrXZlaXM6JywgYXZhaWxhYmxlVGFncylcbiAgICAgICAgXG4gICAgICAgIGZvciAoY29uc3QgaGFzaHRhZyBvZiBoYXNodGFncykge1xuICAgICAgICAgIGNvbnN0IHRhZyA9IGF2YWlsYWJsZVRhZ3MuZmluZCh0ID0+IHQudGFnX25hbWUudG9Mb3dlckNhc2UoKSA9PT0gaGFzaHRhZy50b0xvd2VyQ2FzZSgpKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUYWcgZW5jb250cmFkYTonLCB0YWcpXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENyaWFyIHBvc3QgYXV0b21hdGljYW1lbnRlXG4gICAgICAgICAgICBjb25zdCBwb3N0RGF0YSA9IHtcbiAgICAgICAgICAgICAgYXV0aG9yX2lkOiB1c2VyLmlkLFxuICAgICAgICAgICAgICBzcGFjZV9pZDogdGFnLnRhcmdldF9zcGFjZV9pZCxcbiAgICAgICAgICAgICAgY29udGVudDogbWVzc2FnZUNvbnRlbnQsXG4gICAgICAgICAgICAgIGltYWdlX3VybDogc2VsZWN0ZWRJbWFnZSB8fCBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDcmlhbmRvIHBvc3QgY29tIGRhZG9zOicsIHBvc3REYXRhKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHBvc3RSZXN1bHQsIGVycm9yOiBwb3N0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdwb3N0cycpXG4gICAgICAgICAgICAgIC5pbnNlcnQocG9zdERhdGEpXG4gICAgICAgICAgICAgIC5zZWxlY3QoKVxuXG4gICAgICAgICAgICBpZiAocG9zdEVycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gY3JpYXIgcG9zdDonLCBwb3N0RXJyb3IpXG4gICAgICAgICAgICAgIHRvYXN0LmVycm9yKGBFcnJvIGFvIGNyaWFyIHBvc3Q6ICR7cG9zdEVycm9yLm1lc3NhZ2V9YClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQb3N0IGNyaWFkbyBjb20gc3VjZXNzbzonLCBwb3N0UmVzdWx0KVxuICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKGBQb3N0IGNyaWFkbyBlbSAke3RhZy50YWdfbmFtZX0hYClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFRhZyAjJHtoYXNodGFnfSBuw6NvIGVuY29udHJhZGEgbmFzIHRhZ3MgZGlzcG9uw612ZWlzYClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc2V0TmV3TWVzc2FnZSgnJylcbiAgICAgIHNldFNlbGVjdGVkSW1hZ2UobnVsbClcbiAgICAgIHNldFNlbGVjdGVkRmlsZShudWxsKVxuICAgICAgbWVzc2FnZUlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKClcbiAgICB9XG5cbiAgICBzZXRTZW5kaW5nKGZhbHNlKVxuICB9XG5cbiAgY29uc3QgaGFuZGxlS2V5UHJlc3MgPSAoZTogUmVhY3QuS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyAmJiAhZS5zaGlmdEtleSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICBpZiAoIXNob3dNZW50aW9uU3VnZ2VzdGlvbnMgJiYgIXNob3dIYXNodGFnU3VnZ2VzdGlvbnMpIHtcbiAgICAgICAgc2VuZE1lc3NhZ2UoKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZU1lc3NhZ2VDaGFuZ2UgPSAoZTogUmVhY3QuQ2hhbmdlRXZlbnQ8SFRNTFRleHRBcmVhRWxlbWVudD4pID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IGUudGFyZ2V0LnZhbHVlXG4gICAgY29uc3QgY3Vyc29yUG9zID0gZS50YXJnZXQuc2VsZWN0aW9uU3RhcnRcbiAgICBcbiAgICBzZXROZXdNZXNzYWdlKHZhbHVlKVxuICAgIFxuICAgIC8vIERldGVjdGFyIEAgcGFyYSBtZW7Dp8O1ZXNcbiAgICBjb25zdCB0ZXh0QmVmb3JlQ3Vyc29yID0gdmFsdWUuc3Vic3RyaW5nKDAsIGN1cnNvclBvcylcbiAgICBjb25zdCBsYXN0QXRTeW1ib2wgPSB0ZXh0QmVmb3JlQ3Vyc29yLmxhc3RJbmRleE9mKCdAJylcbiAgICBjb25zdCBsYXN0SGFzaFN5bWJvbCA9IHRleHRCZWZvcmVDdXJzb3IubGFzdEluZGV4T2YoJyMnKVxuICAgIFxuICAgIC8vIFZlcmlmaWNhciBxdWFsIHPDrW1ib2xvIGVzdMOhIG1haXMgcHLDs3hpbW8gZG8gY3Vyc29yXG4gICAgaWYgKGxhc3RIYXNoU3ltYm9sID4gbGFzdEF0U3ltYm9sICYmIGxhc3RIYXNoU3ltYm9sICE9PSAtMSkge1xuICAgICAgLy8gRGV0ZWN0YXIgIyBwYXJhIGhhc2h0YWdzXG4gICAgICBjb25zdCB0ZXh0QWZ0ZXJIYXNoID0gdGV4dEJlZm9yZUN1cnNvci5zdWJzdHJpbmcobGFzdEhhc2hTeW1ib2wgKyAxKVxuICAgICAgXG4gICAgICBpZiAoIXRleHRBZnRlckhhc2guaW5jbHVkZXMoJyAnKSAmJiB0ZXh0QWZ0ZXJIYXNoLmxlbmd0aCA+PSAwKSB7XG4gICAgICAgIHNldEhhc2h0YWdTZWFyY2godGV4dEFmdGVySGFzaC50b0xvd2VyQ2FzZSgpKVxuICAgICAgICBzZXRIYXNodGFnU3RhcnRQb3MobGFzdEhhc2hTeW1ib2wpXG4gICAgICAgIHNldFNob3dIYXNodGFnU3VnZ2VzdGlvbnModHJ1ZSlcbiAgICAgICAgc2V0U2hvd01lbnRpb25TdWdnZXN0aW9ucyhmYWxzZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNob3dIYXNodGFnU3VnZ2VzdGlvbnMoZmFsc2UpXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsYXN0QXRTeW1ib2wgIT09IC0xICYmIGxhc3RBdFN5bWJvbCA+IGxhc3RIYXNoU3ltYm9sKSB7XG4gICAgICAvLyBEZXRlY3RhciBAIHBhcmEgbWVuw6fDtWVzXG4gICAgICBjb25zdCB0ZXh0QWZ0ZXJBdCA9IHRleHRCZWZvcmVDdXJzb3Iuc3Vic3RyaW5nKGxhc3RBdFN5bWJvbCArIDEpXG4gICAgICBcbiAgICAgIGlmICghdGV4dEFmdGVyQXQuaW5jbHVkZXMoJyAnKSAmJiB0ZXh0QWZ0ZXJBdC5sZW5ndGggPj0gMCkge1xuICAgICAgICBzZXRNZW50aW9uU2VhcmNoKHRleHRBZnRlckF0LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgIHNldE1lbnRpb25TdGFydFBvcyhsYXN0QXRTeW1ib2wpXG4gICAgICAgIHNldFNob3dNZW50aW9uU3VnZ2VzdGlvbnModHJ1ZSlcbiAgICAgICAgc2V0U2hvd0hhc2h0YWdTdWdnZXN0aW9ucyhmYWxzZSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFNob3dNZW50aW9uU3VnZ2VzdGlvbnMoZmFsc2UpXG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNob3dNZW50aW9uU3VnZ2VzdGlvbnMoZmFsc2UpXG4gICAgICBzZXRTaG93SGFzaHRhZ1N1Z2dlc3Rpb25zKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGluc2VydE1lbnRpb24gPSAodXNlcm5hbWU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGJlZm9yZU1lbnRpb24gPSBuZXdNZXNzYWdlLnN1YnN0cmluZygwLCBtZW50aW9uU3RhcnRQb3MpXG4gICAgY29uc3QgYWZ0ZXJNZW50aW9uID0gbmV3TWVzc2FnZS5zdWJzdHJpbmcobWVzc2FnZUlucHV0UmVmLmN1cnJlbnQ/LnNlbGVjdGlvblN0YXJ0IHx8IG5ld01lc3NhZ2UubGVuZ3RoKVxuICAgIFxuICAgIGNvbnN0IG5ld1RleHQgPSBgJHtiZWZvcmVNZW50aW9ufUAke3VzZXJuYW1lfSAke2FmdGVyTWVudGlvbn1gXG4gICAgc2V0TmV3TWVzc2FnZShuZXdUZXh0KVxuICAgIHNldFNob3dNZW50aW9uU3VnZ2VzdGlvbnMoZmFsc2UpXG4gICAgXG4gICAgLy8gRm9jYXIgbm8gaW5wdXRcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIG1lc3NhZ2VJbnB1dFJlZi5jdXJyZW50Py5mb2N1cygpXG4gICAgICBjb25zdCBuZXdDdXJzb3JQb3MgPSBtZW50aW9uU3RhcnRQb3MgKyB1c2VybmFtZS5sZW5ndGggKyAyXG4gICAgICBtZXNzYWdlSW5wdXRSZWYuY3VycmVudD8uc2V0U2VsZWN0aW9uUmFuZ2UobmV3Q3Vyc29yUG9zLCBuZXdDdXJzb3JQb3MpXG4gICAgfSwgMClcbiAgfVxuXG4gIGNvbnN0IGluc2VydEhhc2h0YWcgPSAodGFnTmFtZTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgYmVmb3JlSGFzaHRhZyA9IG5ld01lc3NhZ2Uuc3Vic3RyaW5nKDAsIGhhc2h0YWdTdGFydFBvcylcbiAgICBjb25zdCBhZnRlckhhc2h0YWcgPSBuZXdNZXNzYWdlLnN1YnN0cmluZyhtZXNzYWdlSW5wdXRSZWYuY3VycmVudD8uc2VsZWN0aW9uU3RhcnQgfHwgbmV3TWVzc2FnZS5sZW5ndGgpXG4gICAgXG4gICAgY29uc3QgbmV3VGV4dCA9IGAke2JlZm9yZUhhc2h0YWd9IyR7dGFnTmFtZX0gJHthZnRlckhhc2h0YWd9YFxuICAgIHNldE5ld01lc3NhZ2UobmV3VGV4dClcbiAgICBzZXRTaG93SGFzaHRhZ1N1Z2dlc3Rpb25zKGZhbHNlKVxuICAgIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgbWVzc2FnZUlucHV0UmVmLmN1cnJlbnQ/LmZvY3VzKClcbiAgICAgIGNvbnN0IG5ld0N1cnNvclBvcyA9IGhhc2h0YWdTdGFydFBvcyArIHRhZ05hbWUubGVuZ3RoICsgMlxuICAgICAgbWVzc2FnZUlucHV0UmVmLmN1cnJlbnQ/LnNldFNlbGVjdGlvblJhbmdlKG5ld0N1cnNvclBvcywgbmV3Q3Vyc29yUG9zKVxuICAgIH0sIDApXG4gIH1cblxuICBjb25zdCBmaWx0ZXJlZFBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBcbiAgICBwLnVzZXI/LnVzZXJuYW1lPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG1lbnRpb25TZWFyY2gpIHx8XG4gICAgcC51c2VyPy5mdWxsX25hbWU/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobWVudGlvblNlYXJjaClcbiAgKS5zbGljZSgwLCA1KVxuXG4gIGNvbnN0IGZpbHRlcmVkVGFncyA9IGF2YWlsYWJsZVRhZ3MuZmlsdGVyKHRhZyA9PlxuICAgIHRhZy50YWdfbmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGhhc2h0YWdTZWFyY2gpXG4gIClcblxuICBjb25zdCBoYW5kbGVNZW50aW9uQ2xpY2sgPSBhc3luYyAodXNlcm5hbWU6IHN0cmluZykgPT4ge1xuICAgIC8vIEJ1c2NhciB1c3XDoXJpbyBjb21wbGV0byBwZWxvIHVzZXJuYW1lXG4gICAgY29uc3QgeyBkYXRhOiBtZW50aW9uZWRVc2VyIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3Byb2ZpbGVzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCd1c2VybmFtZScsIHVzZXJuYW1lKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAobWVudGlvbmVkVXNlcikge1xuICAgICAgLy8gTmF2ZWdhciBwYXJhIG8gcGVyZmlsIHVzYW5kbyBTUEFcbiAgICAgIG9uVmlld1Byb2ZpbGUobWVudGlvbmVkVXNlcilcbiAgICB9IGVsc2Uge1xuICAgICAgdG9hc3QuZXJyb3IoJ1VzdcOhcmlvIG7Do28gZW5jb250cmFkbycpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgcmVuZGVyTWVzc2FnZUNvbnRlbnQgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgLy8gRGV0ZWN0YXIgbWVuw6fDtWVzIChAdXNlcm5hbWUpIGUgaGFzaHRhZ3MgKCN0YWcpXG4gICAgY29uc3QgY29tYmluZWRSZWdleCA9IC8oQFxcdyspfCgjXFx3KykvZ1xuICAgIGNvbnN0IHBhcnRzID0gW11cbiAgICBsZXQgbGFzdEluZGV4ID0gMFxuICAgIGxldCBtYXRjaFxuXG4gICAgd2hpbGUgKChtYXRjaCA9IGNvbWJpbmVkUmVnZXguZXhlYyhjb250ZW50KSkgIT09IG51bGwpIHtcbiAgICAgIC8vIEFkaWNpb25hciB0ZXh0byBhbnRlcyBkYSBtZW7Dp8Ojby9oYXNodGFnXG4gICAgICBpZiAobWF0Y2guaW5kZXggPiBsYXN0SW5kZXgpIHtcbiAgICAgICAgcGFydHMucHVzaChjb250ZW50LnN1YnN0cmluZyhsYXN0SW5kZXgsIG1hdGNoLmluZGV4KSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKG1hdGNoWzFdKSB7XG4gICAgICAgIC8vIMOJIHVtYSBtZW7Dp8OjbyBAdXNlcm5hbWVcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBtYXRjaFsxXS5zdWJzdHJpbmcoMSlcbiAgICAgICAgcGFydHMucHVzaChcbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBrZXk9e21hdGNoLmluZGV4fVxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlTWVudGlvbkNsaWNrKHVzZXJuYW1lKX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLXByaW1hcnktMTAwIGRhcms6YmctcHJpbWFyeS05MDAgdGV4dC1wcmltYXJ5LTcwMCBkYXJrOnRleHQtcHJpbWFyeS0zMDAgcHgtMSByb3VuZGVkIGZvbnQtbWVkaXVtIGhvdmVyOmJnLXByaW1hcnktMjAwIGRhcms6aG92ZXI6YmctcHJpbWFyeS04MDAgdHJhbnNpdGlvbi1jb2xvcnMgY3Vyc29yLXBvaW50ZXIgaW5saW5lLWZsZXggaXRlbXMtY2VudGVyXCJcbiAgICAgICAgICAgIHRpdGxlPXtgVmVyIHBlcmZpbCBkZSBAJHt1c2VybmFtZX1gfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIEB7dXNlcm5hbWV9XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIClcbiAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcbiAgICAgICAgLy8gw4kgdW1hIGhhc2h0YWcgI3RhZ1xuICAgICAgICBjb25zdCB0YWdOYW1lID0gbWF0Y2hbMl0uc3Vic3RyaW5nKDEpXG4gICAgICAgIGNvbnN0IHRhZyA9IGF2YWlsYWJsZVRhZ3MuZmluZCh0ID0+IHQudGFnX25hbWUudG9Mb3dlckNhc2UoKSA9PT0gdGFnTmFtZS50b0xvd2VyQ2FzZSgpKVxuICAgICAgICBcbiAgICAgICAgcGFydHMucHVzaChcbiAgICAgICAgICA8c3BhblxuICAgICAgICAgICAga2V5PXttYXRjaC5pbmRleH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTEgcm91bmRlZCBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICB0YWcgXG4gICAgICAgICAgICAgICAgPyAnYmctZ3JlZW4tMTAwIGRhcms6YmctZ3JlZW4tOTAwIHRleHQtZ3JlZW4tNzAwIGRhcms6dGV4dC1ncmVlbi0zMDAnIFxuICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDAnXG4gICAgICAgICAgICB9YH1cbiAgICAgICAgICAgIHRpdGxlPXt0YWcgPyBgVGFnOiAke3RhZy50YWdfbmFtZX0gKGNyaW91IHBvc3QpYCA6ICdUYWcgbsOjbyByZWNvbmhlY2lkYSd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgI3t0YWdOYW1lfVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgICAgXG4gICAgICBsYXN0SW5kZXggPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aFxuICAgIH1cbiAgICBcbiAgICAvLyBBZGljaW9uYXIgdGV4dG8gcmVzdGFudGVcbiAgICBpZiAobGFzdEluZGV4IDwgY29udGVudC5sZW5ndGgpIHtcbiAgICAgIHBhcnRzLnB1c2goY29udGVudC5zdWJzdHJpbmcobGFzdEluZGV4KSlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA+IDAgPyBwYXJ0cyA6IGNvbnRlbnRcbiAgfVxuXG4gIGlmICghdXNlcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG1pbi1oLVs2MHZoXVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSBtYi00XCI+XG4gICAgICAgICAgICBGYcOnYSBsb2dpbiBwYXJhIGFjZXNzYXIgbyBjaGF0XG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgQ29uZWN0ZS1zZSBjb20gb3V0cm9zIG1lbWJyb3MgZGEgY29tdW5pZGFkZSBlbSB0ZW1wbyByZWFsXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJoLVtjYWxjKDEwMHZoLTVyZW0pXSBmbGV4XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgIHsvKiBDaGF0IEhlYWRlciAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwLTRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQteGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgQ2hhdCBHZXJhbCBkYSBDb211bmlkYWRlXG4gICAgICAgICAgICAgIDwvaDE+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICB7cGFydGljaXBhbnRzLmZpbHRlcihwID0+IHAuaXNfb25saW5lKS5sZW5ndGh9IG9ubGluZSDigKIge2Rpc3BsYXlNZW1iZXJzQ291bnQgfHwgcGFydGljaXBhbnRzLmxlbmd0aH0gdG90YWxcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ01hbnVhbCByZWZyZXNoIHRyaWdnZXJlZCcpXG4gICAgICAgICAgICAgICAgICBnZXRNZXNzYWdlcygpXG4gICAgICAgICAgICAgICAgICBnZXRQYXJ0aWNpcGFudHMoKVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtMyBweS0xIGJnLXByaW1hcnktNjAwIHRleHQtd2hpdGUgcm91bmRlZCB0ZXh0LXNtIGhvdmVyOmJnLXByaW1hcnktNzAwXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFJlY2FycmVnYXJcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPntwYXJ0aWNpcGFudHMubGVuZ3RofTwvc3Bhbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTQgc3BhY2UteS00XCI+XG4gICAgICAgICAge2xvYWRpbmcgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGgtZnVsbFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItcHJpbWFyeS02MDAgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5DYXJyZWdhbmRvIG1lbnNhZ2Vucy4uLjwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogbWVzc2FnZXMubGVuZ3RoID09PSAwID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBoLWZ1bGxcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC02eGwgbWItNFwiPvCfkqw8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC14bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIE5lbmh1bWEgbWVuc2FnZW0gYWluZGFcbiAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1iLTZcIj5cbiAgICAgICAgICAgICAgICAgIFNlamEgbyBwcmltZWlybyBhIGVudmlhciB1bWEgbWVuc2FnZW0gcGFyYSBhIGNvbXVuaWRhZGUhXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc093biA9IG1lc3NhZ2UudXNlcl9pZCA9PT0gdXNlci5pZFxuICAgICAgICAgICAgY29uc3Qgc2hvd0F2YXRhciA9IGluZGV4ID09PSAwIHx8IG1lc3NhZ2VzW2luZGV4IC0gMV0udXNlcl9pZCAhPT0gbWVzc2FnZS51c2VyX2lkXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBrZXk9e21lc3NhZ2UuaWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCAke2lzT3duID8gJ2p1c3RpZnktZW5kJyA6ICdqdXN0aWZ5LXN0YXJ0J30gZ3JvdXBgfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2BmbGV4IG1heC13LXhzIGxnOm1heC13LW1kICR7aXNPd24gPyAnZmxleC1yb3ctcmV2ZXJzZScgOiAnZmxleC1yb3cnfSByZWxhdGl2ZWB9PlxuICAgICAgICAgICAgICAgICAge3Nob3dBdmF0YXIgJiYgIWlzT3duICYmIChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LXNocmluay0wIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS51c2VyPy5hdmF0YXJfdXJsID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVzc2FnZS51c2VyLmF2YXRhcl91cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17bWVzc2FnZS51c2VyLmZ1bGxfbmFtZSB8fCAnQXZhdGFyJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9ezMyfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLXByaW1hcnktNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXdoaXRlIGZvbnQtc2VtaWJvbGQgdGV4dC1zbVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsobWVzc2FnZS51c2VyPy5mdWxsX25hbWUgfHwgbWVzc2FnZS51c2VyPy51c2VybmFtZSB8fCAnVScpWzBdLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3Nob3dBdmF0YXIgJiYgaXNPd24gPyAnbXItMycgOiBzaG93QXZhdGFyID8gJycgOiAnbWwtMTEnfWB9PlxuICAgICAgICAgICAgICAgICAgICB7c2hvd0F2YXRhciAmJiAhaXNPd24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnVzZXI/LmZ1bGxfbmFtZSB8fCBtZXNzYWdlLnVzZXI/LnVzZXJuYW1lIHx8ICdVc3XDoXJpbyd9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIG1sLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdERpc3RhbmNlVG9Ob3cobmV3IERhdGUobWVzc2FnZS5jcmVhdGVkX2F0KSwgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRTdWZmaXg6IHRydWUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZTogcHRCUiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIEJvdMOjbyBkZSBkZWxldGFyIChhcGVuYXMgcGFyYSBtZW5zYWdlbnMgcHLDs3ByaWFzKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7aXNPd24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBkZWxldGVNZXNzYWdlKG1lc3NhZ2UuaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTIgLXJpZ2h0LTIgYmctcmVkLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtZnVsbCBwLTEgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBob3ZlcjpiZy1yZWQtNjAwIHotMTBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT1cIkRlbGV0YXIgbWVuc2FnZW1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8VHJhc2gyIGNsYXNzTmFtZT1cImgtMyB3LTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBpc093blxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWdyYWRpZW50LXRvLXIgZnJvbS1jeWFuLTUwMCB0by1ibHVlLTYwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5pbWFnZV91cmwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxJbWFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYz17bWVzc2FnZS5pbWFnZV91cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0PVwiSW1hZ2VtIGNvbXBhcnRpbGhhZGFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXszMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsyMDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1sZyBjdXJzb3ItcG9pbnRlciBob3ZlcjpvcGFjaXR5LTkwIHRyYW5zaXRpb24tb3BhY2l0eVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gbWVzc2FnZS5pbWFnZV91cmwgJiYgd2luZG93Lm9wZW4obWVzc2FnZS5pbWFnZV91cmwsICdfYmxhbmsnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuZmlsZV91cmwgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17bWVzc2FnZS5maWxlX3VybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0PVwiX2JsYW5rXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsPVwibm9vcGVuZXIgbm9yZWZlcnJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBwLTIgYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTYwMCByb3VuZGVkIG1iLTIgaG92ZXI6YmctZ3JheS0yMDAgZGFyazpob3ZlcjpiZy1ncmF5LTUwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRydW5jYXRlXCI+e21lc3NhZ2UuZmlsZV9uYW1lfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG9wYWNpdHktNzVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmZpbGVfc2l6ZSA/IGAkeyhtZXNzYWdlLmZpbGVfc2l6ZSAvIDEwMjQpLnRvRml4ZWQoMSl9IEtCYCA6ICdBcnF1aXZvJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UuY29udGVudCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHdoaXRlc3BhY2UtcHJlLXdyYXBcIj57cmVuZGVyTWVzc2FnZUNvbnRlbnQobWVzc2FnZS5jb250ZW50KX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICB7aXNPd24gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXREaXN0YW5jZVRvTm93KG5ldyBEYXRlKG1lc3NhZ2UuY3JlYXRlZF9hdCksIHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3VmZml4OiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGU6IHB0QlIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKVxuICAgICAgICAgIH0pKX1cbiAgICAgICAgICA8ZGl2IHJlZj17bWVzc2FnZXNFbmRSZWZ9IC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBNZXNzYWdlIElucHV0ICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNFwiPlxuICAgICAgICAgIHsvKiBQcmV2aWV3IGRlIGltYWdlbS9hcnF1aXZvICovfVxuICAgICAgICAgIHsoc2VsZWN0ZWRJbWFnZSB8fCBzZWxlY3RlZEZpbGUpICYmIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItMyBwLTMgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAge3NlbGVjdGVkSW1hZ2UgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaW5saW5lLWJsb2NrXCI+XG4gICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgc3JjPXtzZWxlY3RlZEltYWdlfVxuICAgICAgICAgICAgICAgICAgICBhbHQ9XCJQcmV2aWV3XCJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg9ezIwMH1cbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXsxNTB9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtbGdcIlxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRJbWFnZShudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0yIC1yaWdodC0yIGJnLXJlZC01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgcC0xIGhvdmVyOmJnLXJlZC02MDBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICDDl1xuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIHtzZWxlY3RlZEZpbGUgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHAtMiBiZy13aGl0ZSBkYXJrOmJnLWdyYXktNjAwIHJvdW5kZWRcIj5cbiAgICAgICAgICAgICAgICAgIDxQYXBlcmNsaXAgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZsZXgtMVwiPntzZWxlY3RlZEZpbGUubmFtZX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkRmlsZShudWxsKX1cbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTYwMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIMOXXG4gICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWVuZCBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIHsvKiBNZW50aW9uIFN1Z2dlc3Rpb25zIERyb3Bkb3duICovfVxuICAgICAgICAgICAgICB7c2hvd01lbnRpb25TdWdnZXN0aW9ucyAmJiBmaWx0ZXJlZFBhcnRpY2lwYW50cy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMCBtYi0yIHctZnVsbCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBzaGFkb3cteGwgbWF4LWgtNDggb3ZlcmZsb3cteS1hdXRvIHotNTBcIj5cbiAgICAgICAgICAgICAgICAgIHtmaWx0ZXJlZFBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBrZXk9e3BhcnRpY2lwYW50LmlkfVxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGluc2VydE1lbnRpb24ocGFydGljaXBhbnQudXNlcj8udXNlcm5hbWUgfHwgJycpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge3BhcnRpY2lwYW50LnVzZXI/LmF2YXRhcl91cmwgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtwYXJ0aWNpcGFudC51c2VyLmF2YXRhcl91cmx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFsdD17cGFydGljaXBhbnQudXNlci5mdWxsX25hbWUgfHwgJ0F2YXRhcid9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04IGgtOCBiZy1wcmltYXJ5LTYwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC13aGl0ZSBmb250LXNlbWlib2xkIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHBhcnRpY2lwYW50LnVzZXI/LmZ1bGxfbmFtZSB8fCBwYXJ0aWNpcGFudC51c2VyPy51c2VybmFtZSB8fCAnVScpWzBdLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgbWluLXctMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSB0cnVuY2F0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7cGFydGljaXBhbnQudXNlcj8uZnVsbF9uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXI/LnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBAe3BhcnRpY2lwYW50LnVzZXI/LnVzZXJuYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBIYXNodGFnIFN1Z2dlc3Rpb25zIERyb3Bkb3duICovfVxuICAgICAgICAgICAgICB7c2hvd0hhc2h0YWdTdWdnZXN0aW9ucyAmJiBmaWx0ZXJlZFRhZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTAgbWItMiB3LWZ1bGwgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LXhsIG1heC1oLTQ4IG92ZXJmbG93LXktYXV0byB6LTUwXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB4LTQgcHktMiBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyBmb250LXNlbWlib2xkIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgVGFncyBkaXNwb27DrXZlaXMgKGNyaWEgcG9zdCBhdXRvbWF0aWNhbWVudGUpXG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAge2ZpbHRlcmVkVGFncy5tYXAoKHRhZykgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAga2V5PXt0YWcuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaW5zZXJ0SGFzaHRhZyh0YWcudGFnX25hbWUpfVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgcHgtNCBweS0yIGhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWxlZnRcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1ib2xkIHRleHQtc21cIj4jPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG1pbi13LTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgI3t0YWcudGFnX25hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIENyaWEgcG9zdCBhdXRvbWF0aWNhbWVudGVcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgICAgIHJlZj17bWVzc2FnZUlucHV0UmVmfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtuZXdNZXNzYWdlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVNZXNzYWdlQ2hhbmdlfVxuICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e2hhbmRsZUtleVByZXNzfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGlnaXRlIHN1YSBtZW5zYWdlbS4uLiAodXNlIEAgcGFyYSBtZW5jaW9uYXIsICMgcGFyYSB0YWdzKVwiXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXRyYW5zcGFyZW50IGJnLXdoaXRlIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgcmVzaXplLW5vbmVcIlxuICAgICAgICAgICAgICAgIHJvd3M9ezF9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3sgbWluSGVpZ2h0OiAnNDRweCcsIG1heEhlaWdodDogJzEyMHB4JyB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgIHsvKiBJbnB1dCBvY3VsdG8gcGFyYSBpbWFnZW5zICovfVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2ltYWdlSW5wdXRSZWZ9XG4gICAgICAgICAgICAgICAgdHlwZT1cImZpbGVcIlxuICAgICAgICAgICAgICAgIGFjY2VwdD1cImltYWdlLypcIlxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXtoYW5kbGVJbWFnZVVwbG9hZH1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoaWRkZW5cIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIElucHV0IG9jdWx0byBwYXJhIGFycXVpdm9zICovfVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICByZWY9e2ZpbGVJbnB1dFJlZn1cbiAgICAgICAgICAgICAgICB0eXBlPVwiZmlsZVwiXG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e2hhbmRsZUZpbGVVcGxvYWR9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaGlkZGVuXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBCb3TDo28gZGUgYW5leGFyIGFycXVpdm8gKi99XG4gICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gZmlsZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZGluZ0ZpbGV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJBbmV4YXIgYXJxdWl2b1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8UGFwZXJjbGlwIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHsvKiBCb3TDo28gZGUgYW5leGFyIGltYWdlbSAqL31cbiAgICAgICAgICAgICAgPGJ1dHRvbiBcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBpbWFnZUlucHV0UmVmLmN1cnJlbnQ/LmNsaWNrKCl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e3VwbG9hZGluZ0ZpbGV9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC0yIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCBkYXJrOmhvdmVyOnRleHQtZ3JheS0zMDAgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICAgICAgdGl0bGU9XCJBbmV4YXIgaW1hZ2VtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxJbWFnZUljb24gY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgey8qIEJvdMOjbyBkZSBlbW9qaSAqL31cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RW1vamlQaWNrZXIoIXNob3dFbW9qaVBpY2tlcil9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgdGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIGRhcms6aG92ZXI6dGV4dC1ncmF5LTMwMFwiXG4gICAgICAgICAgICAgICAgICB0aXRsZT1cIkFkaWNpb25hciBlbW9qaVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPFNtaWxlIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHsvKiBTZWxldG9yIGRlIGVtb2ppcyAqL31cbiAgICAgICAgICAgICAgICB7c2hvd0Vtb2ppUGlja2VyICYmIChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIHsvKiBPdmVybGF5IHBhcmEgZmVjaGFyIGFvIGNsaWNhciBmb3JhICovfVxuICAgICAgICAgICAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpeGVkIGluc2V0LTAgei00MFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0Vtb2ppUGlja2VyKGZhbHNlKX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCByaWdodC0wIG1iLTIgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHJvdW5kZWQtbGcgc2hhZG93LTJ4bCBwLTMgei01MCB3LTY0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy01IGdhcC0yIG1heC1oLTQ4IG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2Vtb2ppcy5tYXAoKGVtb2ppLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVFbW9qaVNlbGVjdChlbW9qaSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC0yeGwgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMCByb3VuZGVkIHAtMiB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZW1vaml9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICB7LyogQm90w6NvIGRlIGVudmlhciAqL31cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3NlbmRNZXNzYWdlfVxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXsoIW5ld01lc3NhZ2UudHJpbSgpICYmICFzZWxlY3RlZEltYWdlICYmICFzZWxlY3RlZEZpbGUpIHx8IHNlbmRpbmcgfHwgdXBsb2FkaW5nRmlsZX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgYmctcHJpbWFyeS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIGhvdmVyOmJnLXByaW1hcnktNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtzZW5kaW5nIHx8IHVwbG9hZGluZ0ZpbGUgPyAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC01IHctNSBib3JkZXItMiBib3JkZXItd2hpdGUgYm9yZGVyLXQtdHJhbnNwYXJlbnRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgPFNlbmQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIE1lbWJlcnMgU2lkZWJhciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy02NCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1sIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBoaWRkZW4gbGc6ZmxleCBsZzpmbGV4LWNvbFwiPlxuICAgICAgICB7LyogSGVhZGVyIGZpeG8gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgIE1lbWJyb3MgKHtwYXJ0aWNpcGFudHMubGVuZ3RofSlcbiAgICAgICAgICA8L2gzPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgbXQtMVwiPlxuICAgICAgICAgICAge3BhcnRpY2lwYW50cy5maWx0ZXIocCA9PiBwLmlzX29ubGluZSkubGVuZ3RofSBvbmxpbmVcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgey8qIExpc3RhIGNvbSBzY3JvbGwgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0b1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC00IHNwYWNlLXktM1wiPlxuICAgICAgICAgICAge3BhcnRpY2lwYW50c1xuICAgICAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIE9yZGVuYXI6IG9ubGluZSBwcmltZWlybywgZGVwb2lzIHBvciBsYXN0X3NlZW5cbiAgICAgICAgICAgICAgICBpZiAoYS5pc19vbmxpbmUgJiYgIWIuaXNfb25saW5lKSByZXR1cm4gLTFcbiAgICAgICAgICAgICAgICBpZiAoIWEuaXNfb25saW5lICYmIGIuaXNfb25saW5lKSByZXR1cm4gMVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShiLmxhc3Rfc2VlbikuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5sYXN0X3NlZW4pLmdldFRpbWUoKVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAubWFwKChwYXJ0aWNpcGFudCkgPT4gKFxuICAgICAgICAgICAgICA8ZGl2IGtleT17cGFydGljaXBhbnQuaWR9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBweS0xXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgICAgICB7cGFydGljaXBhbnQudXNlcj8uYXZhdGFyX3VybCA/IChcbiAgICAgICAgICAgICAgICAgICAgPEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgc3JjPXtwYXJ0aWNpcGFudC51c2VyLmF2YXRhcl91cmx9XG4gICAgICAgICAgICAgICAgICAgICAgYWx0PXtwYXJ0aWNpcGFudC51c2VyLmZ1bGxfbmFtZSB8fCAnQXZhdGFyJ31cbiAgICAgICAgICAgICAgICAgICAgICB3aWR0aD17MzJ9XG4gICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PXszMn1cbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyb3VuZGVkLWZ1bGxcIlxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LTggaC04IGJnLXByaW1hcnktNjAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtd2hpdGUgZm9udC1zZW1pYm9sZCB0ZXh0LXNtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7KHBhcnRpY2lwYW50LnVzZXI/LmZ1bGxfbmFtZSB8fCBwYXJ0aWNpcGFudC51c2VyPy51c2VybmFtZSB8fCAnVScpWzBdLnRvVXBwZXJDYXNlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8Q2lyY2xlIGNsYXNzTmFtZT17YGFic29sdXRlIC1ib3R0b20tMSAtcmlnaHQtMSBoLTMgdy0zIGZpbGwtY3VycmVudCAke1xuICAgICAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudC5pc19vbmxpbmUgPyAndGV4dC1ncmVlbi01MDAnIDogJ3RleHQtZ3JheS00MDAnXG4gICAgICAgICAgICAgICAgICB9YH0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBtaW4tdy0wXCI+XG4gICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRydW5jYXRlXCI+XG4gICAgICAgICAgICAgICAgICAgIHtwYXJ0aWNpcGFudC51c2VyPy5mdWxsX25hbWUgfHwgcGFydGljaXBhbnQudXNlcj8udXNlcm5hbWUgfHwgJ1VzdcOhcmlvJ31cbiAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAge3BhcnRpY2lwYW50LmlzX29ubGluZSA/ICdPbmxpbmUnIDogJ09mZmxpbmUnfVxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApXG59XG4iXSwibmFtZXMiOlsidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJzdXBhYmFzZSIsIlNlbmQiLCJQYXBlcmNsaXAiLCJTbWlsZSIsIkNpcmNsZSIsIkltYWdlSWNvbiIsIlRyYXNoMiIsIkltYWdlIiwiZm9ybWF0RGlzdGFuY2VUb05vdyIsInB0QlIiLCJ0b2FzdCIsIkNoYXRQYWdlIiwidXNlciIsInByb2ZpbGUiLCJvblZpZXdQcm9maWxlIiwibWVzc2FnZXMiLCJzZXRNZXNzYWdlcyIsInBhcnRpY2lwYW50cyIsInNldFBhcnRpY2lwYW50cyIsIm5ld01lc3NhZ2UiLCJzZXROZXdNZXNzYWdlIiwic2VuZGluZyIsInNldFNlbmRpbmciLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsInNob3dNZW50aW9uU3VnZ2VzdGlvbnMiLCJzZXRTaG93TWVudGlvblN1Z2dlc3Rpb25zIiwibWVudGlvblNlYXJjaCIsInNldE1lbnRpb25TZWFyY2giLCJtZW50aW9uU3RhcnRQb3MiLCJzZXRNZW50aW9uU3RhcnRQb3MiLCJzaG93RW1vamlQaWNrZXIiLCJzZXRTaG93RW1vamlQaWNrZXIiLCJ1cGxvYWRpbmdGaWxlIiwic2V0VXBsb2FkaW5nRmlsZSIsInNlbGVjdGVkSW1hZ2UiLCJzZXRTZWxlY3RlZEltYWdlIiwic2VsZWN0ZWRGaWxlIiwic2V0U2VsZWN0ZWRGaWxlIiwic2hvd0hhc2h0YWdTdWdnZXN0aW9ucyIsInNldFNob3dIYXNodGFnU3VnZ2VzdGlvbnMiLCJoYXNodGFnU2VhcmNoIiwic2V0SGFzaHRhZ1NlYXJjaCIsImhhc2h0YWdTdGFydFBvcyIsInNldEhhc2h0YWdTdGFydFBvcyIsImF2YWlsYWJsZVRhZ3MiLCJzZXRBdmFpbGFibGVUYWdzIiwiZGlzcGxheU1lbWJlcnNDb3VudCIsInNldERpc3BsYXlNZW1iZXJzQ291bnQiLCJtZXNzYWdlc0VuZFJlZiIsIm1lc3NhZ2VJbnB1dFJlZiIsImZpbGVJbnB1dFJlZiIsImltYWdlSW5wdXRSZWYiLCJjb25zb2xlIiwibG9nIiwiZ2V0TWVzc2FnZXMiLCJnZXRQYXJ0aWNpcGFudHMiLCJ1cGRhdGVVc2VyT25saW5lU3RhdHVzIiwibG9hZEF2YWlsYWJsZVRhZ3MiLCJtZXNzYWdlc1N1YnNjcmlwdGlvbiIsImNoYW5uZWwiLCJvbiIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJwYXlsb2FkIiwibmV3IiwiZGF0YSIsImZ1bGxNZXNzYWdlIiwiZnJvbSIsInNlbGVjdCIsImVxIiwiaWQiLCJzaW5nbGUiLCJ0cmFuc2Zvcm1lZE1lc3NhZ2UiLCJwcm9maWxlcyIsInByZXYiLCJzZXRUaW1lb3V0Iiwic2Nyb2xsVG9Cb3R0b20iLCJzdWJzY3JpYmUiLCJwYXJ0aWNpcGFudHNTdWJzY3JpcHRpb24iLCJ1bnN1YnNjcmliZSIsImxlbmd0aCIsInNtb290aCIsImN1cnJlbnQiLCJzY3JvbGxJbnRvVmlldyIsImJlaGF2aW9yIiwiZXJyb3IiLCJvcmRlciIsImFzY2VuZGluZyIsImxpbWl0IiwibWVzc2FnZSIsInRyYW5zZm9ybWVkRGF0YSIsIm1hcCIsImFsbFVzZXJzIiwidXNlcnNFcnJvciIsImNoYXRQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHNFcnJvciIsImNoYXREYXRhIiwiZmluZCIsInAiLCJ1c2VyX2lkIiwiaXNfb25saW5lIiwibGFzdF9zZWVuIiwiY3JlYXRlZF9hdCIsImNhbGN1bGF0ZURpc3BsYXlDb3VudCIsInJlYWxDb3VudCIsInNldHRpbmdzIiwiaXNBZG1pbiIsInVzZXJQcm9maWxlIiwicm9sZSIsInNob3dfZmFrZV9jb3VudCIsImZha2VfbWVtYmVyc19jb3VudCIsImlzT25saW5lIiwidXBzZXJ0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZW1vamlzIiwiaGFuZGxlRW1vamlTZWxlY3QiLCJlbW9qaSIsImZvY3VzIiwiZGVsZXRlTWVzc2FnZSIsIm1lc3NhZ2VJZCIsImNvbmZpcm0iLCJkZWxldGUiLCJmaWx0ZXIiLCJtIiwic3VjY2VzcyIsImhhbmRsZUltYWdlVXBsb2FkIiwiZSIsImZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsInR5cGUiLCJzdGFydHNXaXRoIiwic2l6ZSIsImZpbGVFeHQiLCJuYW1lIiwic3BsaXQiLCJwb3AiLCJmaWxlTmFtZSIsIm5vdyIsImZpbGVQYXRoIiwidXBsb2FkRXJyb3IiLCJzdG9yYWdlIiwidXBsb2FkIiwicHVibGljVXJsIiwiZ2V0UHVibGljVXJsIiwiaGFuZGxlRmlsZVVwbG9hZCIsInVybCIsInNlbmRNZXNzYWdlIiwidHJpbSIsIm1lc3NhZ2VDb250ZW50IiwibWVzc2FnZURhdGEiLCJpbnNlcnQiLCJjb250ZW50IiwiaW1hZ2VfdXJsIiwiZmlsZV91cmwiLCJmaWxlX25hbWUiLCJmaWxlX3NpemUiLCJmaWxlX3R5cGUiLCJtZW50aW9uUmVnZXgiLCJtZW50aW9ucyIsIm1hdGNoIiwiZXhlYyIsInB1c2giLCJtZW50aW9uZWRVc2VycyIsImluIiwibm90aWZpY2F0aW9ucyIsInUiLCJtZW50aW9uZWRVc2VyIiwiZnVsbF9uYW1lIiwidXNlcm5hbWUiLCJyZWxhdGVkX3VzZXJfaWQiLCJpc19yZWFkIiwiaGFzaHRhZ1JlZ2V4IiwiaGFzaHRhZ3MiLCJoYXNoTWF0Y2giLCJoYXNodGFnIiwidGFnIiwidCIsInRhZ19uYW1lIiwidG9Mb3dlckNhc2UiLCJwb3N0RGF0YSIsImF1dGhvcl9pZCIsInNwYWNlX2lkIiwidGFyZ2V0X3NwYWNlX2lkIiwicG9zdFJlc3VsdCIsInBvc3RFcnJvciIsImhhbmRsZUtleVByZXNzIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZU1lc3NhZ2VDaGFuZ2UiLCJ2YWx1ZSIsImN1cnNvclBvcyIsInNlbGVjdGlvblN0YXJ0IiwidGV4dEJlZm9yZUN1cnNvciIsInN1YnN0cmluZyIsImxhc3RBdFN5bWJvbCIsImxhc3RJbmRleE9mIiwibGFzdEhhc2hTeW1ib2wiLCJ0ZXh0QWZ0ZXJIYXNoIiwiaW5jbHVkZXMiLCJ0ZXh0QWZ0ZXJBdCIsImluc2VydE1lbnRpb24iLCJiZWZvcmVNZW50aW9uIiwiYWZ0ZXJNZW50aW9uIiwibmV3VGV4dCIsIm5ld0N1cnNvclBvcyIsInNldFNlbGVjdGlvblJhbmdlIiwiaW5zZXJ0SGFzaHRhZyIsInRhZ05hbWUiLCJiZWZvcmVIYXNodGFnIiwiYWZ0ZXJIYXNodGFnIiwiZmlsdGVyZWRQYXJ0aWNpcGFudHMiLCJzbGljZSIsImZpbHRlcmVkVGFncyIsImhhbmRsZU1lbnRpb25DbGljayIsInJlbmRlck1lc3NhZ2VDb250ZW50IiwiY29tYmluZWRSZWdleCIsInBhcnRzIiwibGFzdEluZGV4IiwiaW5kZXgiLCJidXR0b24iLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwidGl0bGUiLCJzcGFuIiwiZGl2IiwiaDEiLCJoMyIsImlzT3duIiwic2hvd0F2YXRhciIsImF2YXRhcl91cmwiLCJzcmMiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsInRvVXBwZXJDYXNlIiwiYWRkU3VmZml4IiwibG9jYWxlIiwid2luZG93Iiwib3BlbiIsImEiLCJocmVmIiwicmVsIiwidG9GaXhlZCIsInJlZiIsInBhcnRpY2lwYW50IiwidGV4dGFyZWEiLCJvbkNoYW5nZSIsIm9uS2V5UHJlc3MiLCJwbGFjZWhvbGRlciIsInJvd3MiLCJzdHlsZSIsIm1pbkhlaWdodCIsIm1heEhlaWdodCIsImlucHV0IiwiYWNjZXB0IiwiY2xpY2siLCJkaXNhYmxlZCIsInNvcnQiLCJiIiwiZ2V0VGltZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/pages/ChatPage.tsx\n"));

/***/ })

});